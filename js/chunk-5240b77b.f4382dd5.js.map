{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/TimeInterval.js","webpack:///./node_modules/@arcgis/core/geometry/support/scaleUtils.js","webpack:///./node_modules/@arcgis/core/layers/MapImageLayer.js","webpack:///./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js","webpack:///./node_modules/@arcgis/core/layers/support/ExportImageParameters.js","webpack:///./node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js","webpack:///./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack:///./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/TimeReference.js","webpack:///./node_modules/@arcgis/core/layers/support/TimeInfo.js"],"names":["p","u","r","super","this","value","unit","type","Number","json","write","nonNullable","prototype","apiValues","jsonValues","read","l","e","i","extent","o","width","c","spatialReference","U","alwaysRefetch","dpi","gdbVersion","imageFormat","imageMaxHeight","imageMaxWidth","imageTransparency","labelsVisible","isReference","operationalLayerType","sourceJSON","sublayers","url","t","signal","addResolvingPromise","loadFromPortal","supportedTypes","then","_fetchService","supportedImageFormatTypes","indexOf","s","loaded","slice","reverse","flatten","toArray","capabilities","operations","supportsExportMap","exportMap","supportsDynamicLayers","origin","createSublayersForOrigin","a","writeSublayerStructure","n","forEach","push","originOf","some","Object","keys","length","layers","visibleLayers","filter","visible","map","id","pixelRatio","version","clone","shiftCentralMeridian","layer","scale","toJSON","destroy","rotation","m","wkid","JSON","stringify","timeExtent","start","end","time","timeInfo","hasLiveData","bbox","xmin","ymin","xmax","ymax","bboxSR","imageSR","size","responseType","timestamp","query","_ts","customParameters","parsedUrl","path","createExportImageParameters","f","Date","now","dynamicLayers","data","catch","error","returnUpdates","fullExtent","fromJSON","allSublayers","ssl","replace","origins","service","source","Boolean","enabled","overridePolicy","ignoreOrigin","readOnly","T","arguments","timeOffset","useViewTime","exportOptions","timeOffsetUnits","fields","_set","target","definitionExpression","labelingInfo","opacity","minScale","maxScale","renderer","y","_scale","view","hasDynamicLayers","visibleSublayers","toExportImageJSON","serviceSublayers","_get","handles","remove","add","on","notifyChange","propertyName","join","reduce","layerDefs","unshift","format","transparent","dependsOn","declaredClass","isNaN","isFinite","valueExpression","field","valueUnit","stops","minSize","maxSize","minDataValue","maxDataValue","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","getLogger","Math","PI","d","visualVariables","warn","attributes","ipData","hasExpression","cache","v","compiledFunc","color","arcade","viewingMode","arcadeUtils","getViewInfo","createExecContext","createSyntaxTree","createFunction","executeFunction","b","normalizationField","h","parseFloat","g","blendColors","axis","rotationType","x","isScaleDriven","inputValueType","V","transformationType","shape","scaleBy","pow","sqrt","resolution","valueRepresentation","w","z","useSymbolValue","respectsDaylightSaving","timezone","respectDaylightSaving","String","cumulative","endField","fullTimeExtent","interval","startField","timeReference","trackIdField","useTime","Array","isArray","getTime","timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits","allowNull"],"mappings":"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","file":"js/chunk-5240b77b.f4382dd5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"./chunks/tslib.es6.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/accessorSupport/ensureType.js\";import{property as o}from\"./core/accessorSupport/decorators/property.js\";import{subclass as e}from\"./core/accessorSupport/decorators/subclass.js\";import\"./core/urlUtils.js\";import\"./core/uuid.js\";import\"./portal/support/resourceExtension.js\";import{JSONSupport as t}from\"./core/JSONSupport.js\";import{millisecondsPerTimeUnit as s,timeUnitKebabDictionary as i}from\"./layers/support/timeUtils.js\";var p;let u=p=class extends t{constructor(r){super(r),this.value=0,this.unit=\"milliseconds\"}toMilliseconds(){return this.value*s[this.unit]}clone(){return new p({value:this.value,unit:this.unit})}};r([o({type:Number,json:{write:!0},nonNullable:!0})],u.prototype,\"value\",void 0),r([o({type:i.apiValues,json:{type:i.jsonValues,read:i.read,write:i.write},nonNullable:!0})],u.prototype,\"unit\",void 0),u=p=r([e(\"esri.TimeInterval\")],u);var l=u;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t,inchesPerMeter as n}from\"../../core/unitUtils.js\";function e(e,r){const i=r||e.extent,o=e.width,c=t(i&&i.spatialReference);return i&&o?i.width/o*c*n*96:0}function r(e,r){return e/(t(r)*n*96)}function i(e,r){return e*(t(r)*n*96)}function o(t,n){const e=t.extent,i=t.width,o=r(n,e.spatialReference);return e.clone().expand(o*i/e.width)}export{o as getExtentForScale,r as getResolutionForScale,e as getScale,i as getScaleForResolution};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import{Integer as t}from\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import{nameToId as m}from\"../core/accessorSupport/PropertyOrigin.js\";import\"../portal/support/resourceExtension.js\";import{resolve as n,reject as l,isAbortError as c}from\"../core/promiseUtils.js\";import u from\"../geometry/Extent.js\";import y from\"../request.js\";import{loadAll as h}from\"../core/loadAll.js\";import d from\"./Layer.js\";import f from\"../TimeExtent.js\";import{MultiOriginJSONMixin as g}from\"../core/MultiOriginJSONSupport.js\";import{url as j}from\"./support/commonProperties.js\";import{OperationalLayer as b}from\"./mixins/OperationalLayer.js\";import{ArcGISService as x}from\"./mixins/ArcGISService.js\";import{BlendLayer as v}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as S}from\"./mixins/CustomParametersMixin.js\";import{PortalLayer as w}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as O}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as L}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as E}from\"./mixins/TemporalLayer.js\";import{HandleOwnerMixin as I}from\"../core/HandleOwner.js\";import{getScale as M}from\"../geometry/support/scaleUtils.js\";import{ArcGISMapService as q}from\"./mixins/ArcGISMapService.js\";import P from\"./support/Sublayer.js\";import{shouldWriteSublayerStructure as N}from\"./support/sublayerUtils.js\";import{SublayersOwner as R}from\"./mixins/SublayersOwner.js\";import{ExportImageParameters as J}from\"./support/ExportImageParameters.js\";let U=class extends(v(E(L(O(R(q(x(b(w(g(S(I(d))))))))))))){constructor(...e){super(...e),this.alwaysRefetch=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat=\"png24\",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.labelsVisible=!1,this.isReference=null,this.operationalLayerType=\"ArcGISMapServiceLayer\",this.sourceJSON=null,this.sublayers=null,this.type=\"map-image\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).then((()=>this._fetchService(t)),(()=>this._fetchService(t)))),n(this)}readImageFormat(e,r){const t=r.supportedImageFormatTypes;return t&&t.indexOf(\"PNG32\")>-1?\"png32\":\"png24\"}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const o=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let i=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const e=m(s.origin);if(3===e){const e=this.createSublayersForOrigin(\"service\").sublayers;i=N(o,e,2)}else if(e>3){const e=this.createSublayersForOrigin(\"portal-item\");i=N(o,e.sublayers,m(e.origin))}}const a=[],p={writeSublayerStructure:i,...s};let n=i;o.forEach((e=>{const r=e.write({},p);a.push(r),n=n||\"user\"===e.originOf(\"visible\")}));a.some((e=>Object.keys(e).length>1))&&(r.layers=a),n&&(r.visibleLayers=o.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,r,t,s){const o=s&&s.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());const i=new J({layer:this,scale:M({extent:e,width:r})*o}),a=i.toJSON();i.destroy();const p=!s||!s.rotation||this.version<10.3?{}:{rotation:-s.rotation},m=e&&e.spatialReference,n=m.wkid||JSON.stringify(m.toJSON());a.dpi*=o;const l={};if(null!=s&&s.timeExtent){const{start:e,end:r}=s.timeExtent.toJSON();l.time=e&&r&&e===r?\"\"+e:`${null==e?\"null\":e},${null==r?\"null\":r}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(l.time=\"null,null\");return{bbox:e&&e.xmin+\",\"+e.ymin+\",\"+e.xmax+\",\"+e.ymax,bboxSR:n,imageSR:n,size:r+\",\"+t,...a,...p,...l}}async fetchImage(e,r,t,s){const o={responseType:\"image\"};s&&s.timestamp&&(o.query={...o.query,_ts:s.timestamp}),s&&s.signal&&(o.signal=s.signal),this.customParameters&&Object.keys(this.customParameters).length&&(o.query={...this.customParameters,...o.query});const i=this.parsedUrl.path+\"/export\",a={...this.parsedUrl.query,...this.createExportImageParameters(e,r,t,s),f:\"image\",_ts:this.alwaysRefetch?Date.now():null};if(null!=a.dynamicLayers&&!this.capabilities.exportMap.supportsDynamicLayers)return l(new p(\"mapimagelayer:dynamiclayer-not-supported\",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:a}));o.query?o.query={...a,...o.query}:o.query=a;return y(i,o).then((e=>e.data)).catch((e=>{if(c(e))throw e;throw new p(\"mapimagelayer:image-fetch-error\",`Unable to load image: ${i}`,{error:e})}))}async fetchRecomputedExtents(e={}){const r={...e,query:{returnUpdates:!0,f:\"json\"}},{data:t}=await y(this.url,r),{extent:s,fullExtent:o,timeExtent:i}=t,a=s||o;return{fullExtent:a&&u.fromJSON(a),timeExtent:i&&f.fromJSON({start:i[0],end:i[1]})}}loadAll(){return h(this,(e=>{e(this.allSublayers)}))}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl});const{data:r,ssl:t}=await y(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters},signal:e});t&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=r,this.read(r,{origin:\"service\",url:this.parsedUrl})}};e([s()],U.prototype,\"alwaysRefetch\",void 0),e([s()],U.prototype,\"dpi\",void 0),e([s()],U.prototype,\"gdbVersion\",void 0),e([s({json:{read:!1,write:!1}})],U.prototype,\"popupEnabled\",void 0),e([s()],U.prototype,\"imageFormat\",void 0),e([o(\"imageFormat\",[\"supportedImageFormatTypes\"])],U.prototype,\"readImageFormat\",null),e([s({json:{origins:{service:{read:{source:\"maxImageHeight\"}}}}})],U.prototype,\"imageMaxHeight\",void 0),e([s({json:{origins:{service:{read:{source:\"maxImageWidth\"}}}}})],U.prototype,\"imageMaxWidth\",void 0),e([s()],U.prototype,\"imageTransparency\",void 0),e([s({json:{read:!1,write:!1}})],U.prototype,\"labelsVisible\",void 0),e([s({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],U.prototype,\"isReference\",void 0),e([s({type:[\"ArcGISMapServiceLayer\"]})],U.prototype,\"operationalLayerType\",void 0),e([s()],U.prototype,\"sourceJSON\",void 0),e([s({json:{write:{ignoreOrigin:!0}}})],U.prototype,\"sublayers\",void 0),e([a(\"sublayers\",{layers:{type:[P]},visibleLayers:{type:[t]}})],U.prototype,\"writeSublayers\",null),e([s({type:[\"show\",\"hide\",\"hide-children\"]})],U.prototype,\"listMode\",void 0),e([s({json:{read:!1},readOnly:!0,value:\"map-image\"})],U.prototype,\"type\",void 0),e([s(j)],U.prototype,\"url\",void 0),U=e([i(\"esri.layers.MapImageLayer\")],U);var T=U;export default T;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{fixTimeInfoFields as s}from\"../support/fieldUtils.js\";import{timeUnitKebabDictionary as i}from\"../support/timeUtils.js\";import p from\"../../TimeExtent.js\";import m from\"../../TimeInterval.js\";import n from\"../support/TimeInfo.js\";function u(e){return void 0!==e.timeInfo}const f=u=>{let f=class extends u{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const o=t.timeInfo.exportOptions;if(!o)return null;const r=o.timeOffset,s=i.fromJSON(o.timeOffsetUnits);return r&&s?new m({value:r,unit:s}):null}set timeInfo(e){s(e,this.fields),this._set(\"timeInfo\",e)}};return e([t({type:p,json:{write:!1}})],f.prototype,\"timeExtent\",void 0),e([t({type:m})],f.prototype,\"timeOffset\",void 0),e([o(\"service\",\"timeOffset\",[\"timeInfo.exportOptions\"])],f.prototype,\"readOffset\",null),e([t({value:null,type:n,json:{write:!0,origins:{\"web-document\":{read:!1,write:!1}}}})],f.prototype,\"timeInfo\",null),e([t({type:Boolean,json:{read:{source:\"timeAnimation\"},write:{target:\"timeAnimation\"},origins:{\"web-scene\":{read:!1,write:!1}}}})],f.prototype,\"useViewTime\",void 0),f=e([r(\"esri.layers.mixins.TemporalLayer\")],f),f};export{f as TemporalLayer,u as isTemporalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import{combinedViewLayerTimeExtentProperty as a}from\"./commonProperties.js\";import{HandleOwnerMixin as t}from\"../../core/HandleOwner.js\";import{isExportDynamic as l}from\"./sublayerUtils.js\";import n from\"../../views/View.js\";const o={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let y=class extends(t(i)){constructor(){super(...arguments),this._scale=null,this.view=null}destroy(){this.layer=this.view=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>e.toExportImageJSON()));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&l(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(o[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=this.visibleSublayers.filter((e=>null!=e.definitionExpression));return e.length?JSON.stringify(e.reduce(((e,s)=>(e[s.id]=s.definitionExpression,e)),{})):null}get scale(){return null!=this._scale?this._scale:this.view&&this.view.scale||0}set scale(e){this.view||(this._scale=e,this.notifyChange(\"scale\"))}get version(){const e=this;e.layers,e.layerDefs,e.dynamicLayers,e.timeExtent;const s=e.layer;return s&&(s.dpi,s.imageFormat,s.imageTransparency,s.gdbVersion),(this._get(\"version\")||0)+1}set version(e){this._set(\"version\",e)}get visibleSublayers(){const e=[];if(!this.layer)return e;const s=this.layer.sublayers,r=s=>{const i=this.scale,a=0===i,t=0===s.minScale||i<=s.minScale,l=0===s.maxScale||i>=s.maxScale;s.visible&&(a||t&&l)&&(s.sublayers?s.sublayers.forEach(r):e.unshift(s))};s&&s.forEach(r);const i=this._get(\"visibleSublayers\");return!i||i.length!==e.length||i.some(((s,r)=>e[r]!==s))?e:i}toJSON(){const e=this.layer;let s={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?s.dynamicLayers=this.dynamicLayers:s={...s,layers:this.layers,layerDefs:this.layerDefs},s}};e([s({readOnly:!0,dependsOn:[\"hasDynamicLayers\",\"visibleSublayers\"]})],y.prototype,\"dynamicLayers\",null),e([s({readOnly:!0,dependsOn:[\"visibleSublayers\",\"layer.serviceSublayers\",\"layer.capabilities\"]})],y.prototype,\"hasDynamicLayers\",null),e([s()],y.prototype,\"layer\",null),e([s({readOnly:!0,dependsOn:[\"visibleSublayers\"]})],y.prototype,\"layers\",null),e([s({readOnly:!0,dependsOn:[\"visibleSublayers\"]})],y.prototype,\"layerDefs\",null),e([s({type:Number,dependsOn:[\"view.scale\"]})],y.prototype,\"scale\",null),e([s(a)],y.prototype,\"timeExtent\",void 0),e([s({dependsOn:[\"layers\",\"layerDefs\",\"dynamicLayers\",\"layer.dpi\",\"layer.imageFormat\",\"layer.imageTransparency\",\"layer.gdbVersion\",\"timeExtent\"]})],y.prototype,\"version\",null),e([s({type:n})],y.prototype,\"view\",void 0),e([s({readOnly:!0,dependsOn:[\"layer.sublayers\",\"scale\"]})],y.prototype,\"visibleSublayers\",null),y=e([r(\"esri.layers.mixins.ExportImageParameters\")],y);export{y as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return n&&\"esri.renderers.visualVariables.SizeVariable\"===n.declaredClass}function e(n){return null!=n&&!isNaN(n)&&isFinite(n)}function i(n){return n.valueExpression?\"expression\":n.field&&\"string\"==typeof n.field?\"field\":\"unknown\"}function l(n,e){const l=e||i(n),a=n.valueUnit||\"unknown\";return\"unknown\"===l?\"constant\":n.stops?\"stops\":null!=n.minSize&&null!=n.maxSize&&null!=n.minDataValue&&null!=n.maxDataValue?\"clamped-linear\":\"unknown\"===a?null!=n.minSize&&null!=n.minDataValue?n.minSize&&n.minDataValue?\"proportional\":\"additive\":\"identity\":\"real-world-size\"}export{i as getInputValueType,l as getTransformationType,n as isSizeVariable,e as isValidNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as a,isNone as r}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import t from\"../../../Color.js\";import n from\"../../../Graphic.js\";import{meterIn as s}from\"../../support/lengthUtils.js\";import{isSizeVariable as o,isValidNumber as l}from\"./sizeVariableUtils.js\";const c=i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),u=new n,f=Math.PI,p=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function d(e,r,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"color\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");const s=\"number\"==typeof r,o=s?null:r,l=o&&o.attributes;let u=s?r:null;const f=n.field,{ipData:p,hasExpression:d}=n.cache;let v=n.cache.compiledFunc;if(!f&&!d){const e=n.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof u)if(d){if(!a(i)||!a(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,t=r.getViewInfo(e),s=r.createExecContext(o,t);if(!v){const e=r.createSyntaxTree(n.valueExpression);v=r.createFunction(e),n.cache.compiledFunc=v}u=r.executeFunction(v,s)}else l&&(u=l[f]);const b=n.normalizationField,h=l?parseFloat(l[b]):void 0;if(null!=u&&(!b||s||!isNaN(h)&&0!==h)){isNaN(h)||s||(u/=h);const e=g(u,p);if(e){const r=e[0],s=e[1],o=r===s?n.stops[r].color:t.blendColors(n.stops[r].color,n.stops[s].color,e[2],a(i)?i.color:void 0);return new t(o)}}}function v(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"opacity\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");const n=\"number\"==typeof a,s=n?null:a,o=s&&s.attributes;let l=n?a:null;const u=t.field,{ipData:f,hasExpression:p}=t.cache;let d=t.cache.compiledFunc;if(!u&&!p){const e=t.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),o=a.createExecContext(s,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}l=a.executeFunction(d,o)}else o&&(l=o[u]);const v=t.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||n||!isNaN(b)&&0!==b)){isNaN(b)||n||(l/=b);const e=g(l,f);if(e){const a=e[0],r=e[1];if(a===r)return t.stops[a].opacity;{const i=t.stops[a].opacity;return i+(t.stops[r].opacity-i)*e[2]}}}}function b(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"rotation\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");const n=t.axis||\"heading\",s=\"heading\"===n&&\"arithmetic\"===t.rotationType?90:0,o=\"heading\"===n&&\"arithmetic\"===t.rotationType?-1:1,l=\"number\"==typeof a?null:a,u=l&&l.attributes,f=t.field,{hasExpression:p}=t.cache;let d=t.cache.compiledFunc,v=0;if(!f&&!p)return v;if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),s=a.createExecContext(l,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}v=a.executeFunction(d,s)}else u&&(v=u[f]||0);return v=\"number\"!=typeof v||isNaN(v)?null:s+o*v,v}function h(e,i,t){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"size\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");const s=x(function(e,i,t){const n=\"number\"==typeof i,s=n?null:i,o=s&&s.attributes;let u=n?i:null;const{isScaleDriven:f}=e.cache;let p=e.cache.compiledFunc;if(f){const r=a(t)?t.scale:void 0,i=a(t)?t.view:void 0;u=null==r||\"3d\"===i?function(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}(e):r}else if(!n)switch(e.inputValueType){case\"expression\":{if(r(t)||r(t.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const a={viewingMode:t.viewingMode,scale:t.scale,spatialReference:t.spatialReference},i=t.arcade.arcadeUtils,n=i.getViewInfo(a),o=i.createExecContext(s,n);if(!p){const a=i.createSyntaxTree(e.valueExpression);p=i.createFunction(a),e.cache.compiledFunc=p}u=i.executeFunction(p,o);break}case\"field\":o&&(u=o[e.field]);break;case\"unknown\":u=null}if(!l(u))return null;if(n||!e.normalizationField)return u;const d=o?parseFloat(o[e.normalizationField]):null;return l(d)&&0!==d?u/d:null}(n,i,t),n,i,t,n.cache.ipData);return null==s||isNaN(s)?0:s}function m(e,a,r){return null==e?null:o(e)?h(e,a,r):l(e)?e:null}function V(e,a,r){return l(r)&&e>r?r:l(a)&&e<a?a:e}function x(e,r,i,t,n){switch(r.transformationType){case\"additive\":return function(e,a,r,i){return e+(m(a.minSize,r,i)||a.minDataValue)}(e,r,i,t);case\"constant\":return function(e,a,r){const i=e.stops;let t=i&&i.length&&i[0].size;return null==t&&(t=e.minSize),m(t,a,r)}(r,i,t);case\"clamped-linear\":return function(e,r,i,t){const n=(e-r.minDataValue)/(r.maxDataValue-r.minDataValue),s=m(r.minSize,i,t),o=m(r.maxSize,i,t),l=a(t)?t.shape:void 0;if(e<=r.minDataValue)return s;if(e>=r.maxDataValue)return o;if(\"area\"===r.scaleBy&&l){const e=\"circle\"===l,a=e?f*Math.pow(s/2,2):s*s,r=a+n*((e?f*Math.pow(o/2,2):o*o)-a);return e?2*Math.sqrt(r/f):Math.sqrt(r)}return s+n*(o-s)}(e,r,i,t);case\"proportional\":return function(e,r,i,t){const n=a(t)?t.shape:void 0,s=e/r.minDataValue,o=m(r.minSize,i,t),l=m(r.maxSize,i,t);let c=null;return c=\"circle\"===n?2*Math.sqrt(s*Math.pow(o/2,2)):\"square\"===n||\"diamond\"===n||\"image\"===n?Math.sqrt(s*Math.pow(o,2)):s*o,V(c,o,l)}(e,r,i,t);case\"stops\":return function(e,a,r,i,t){const[n,s,o]=g(e,t);if(n===s)return m(a.stops[n].size,r,i);{const e=m(a.stops[n].size,r,i);return e+(m(a.stops[s].size,r,i)-e)*o}}(e,r,i,t,n);case\"real-world-size\":return function(e,r,i,t){const n=(a(t)&&t.resolution?t.resolution:1)*s[r.valueUnit],o=m(r.minSize,i,t),l=m(r.maxSize,i,t),{valueRepresentation:c}=r;let u=null;return u=\"area\"===c?2*Math.sqrt(e/f)/n:\"radius\"===c||\"distance\"===c?2*e/n:e/n,V(u,o,l)}(e,r,i,t);case\"identity\":return e;case\"unknown\":return null}}function w(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===r||a))return null;const t={scale:a,view:r};let n=m(e.minSize,u,t),s=m(e.maxSize,u,t);if(null!=n||null!=s){if(n>s){const e=s;s=n,n=e}return{minSize:n,maxSize:s}}}function y(e,a,r){if(!e.visualVariables)return;const i=[],t=[],n=[],s=[],o=[];for(const a of e.visualVariables)switch(a.type){case\"color\":t.push(a);break;case\"opacity\":n.push(a);break;case\"rotation\":o.push(a);break;case\"size\":s.push(a)}return t.forEach((e=>{const t=d(e,a,r);i.push({variable:e,value:t})})),n.forEach((e=>{const t=v(e,a,r);i.push({variable:e,value:t})})),o.forEach((e=>{const t=b(e,a,r);i.push({variable:e,value:t})})),s.forEach((e=>{const t=h(e,a,r);i.push({variable:e,value:t})})),i.filter((e=>null!=e.value))}function g(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,t)=>e<a?(i=t,!0):(r=t,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function z(a,r,i){const t=[\"proportional\",\"proportional\",\"proportional\"];for(const n of a){const a=n.useSymbolValue?\"symbol-value\":h(n,r,i);switch(n.axis){case\"width\":t[0]=a;break;case\"depth\":t[1]=a;break;case\"height\":t[2]=a;break;case\"width-and-depth\":t[0]=a,t[1]=a;break;case\"all\":case void 0:case null:t[0]=a,t[1]=a,t[2]=a;break;default:e(n.axis)}}return t}export{z as getAllSizes,d as getColor,v as getOpacity,b as getRotationAngle,h as getSize,x as getSizeForValue,m as getSizeFromNumberOrVariable,w as getSizeRangeAtScale,y as getVisualVariableValues,p as viewScaleRE};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";var i;let p=i=class extends s{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,r){return void 0!==r.respectsDaylightSaving?r.respectsDaylightSaving:void 0!==r.respectDaylightSaving&&r.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:r}=this;return new i({respectsDaylightSaving:e,timezone:r})}};e([r({type:Boolean,json:{write:!0}})],p.prototype,\"respectsDaylightSaving\",void 0),e([t(\"respectsDaylightSaving\",[\"respectsDaylightSaving\",\"respectDaylightSaving\"])],p.prototype,\"readRespectsDaylightSaving\",null),e([r({type:String,json:{read:{source:\"timeZone\"},write:{target:\"timeZone\"}}})],p.prototype,\"timezone\",void 0),p=i=e([o(\"esri.layers.support.TimeReference\")],p);var a=p;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as t}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as n}from\"../../core/JSONSupport.js\";import{timeUnitKebabDictionary as a}from\"./timeUtils.js\";import s from\"../../TimeExtent.js\";import m from\"../../TimeInterval.js\";import u from\"./TimeReference.js\";var p;let d=p=class extends n{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;const r=new Date(t.timeExtent[0]),i=new Date(t.timeExtent[1]);return new s({start:r,end:i})}writeFullTimeExtent(e,t){e&&e.start&&e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new m({value:t.timeInterval,unit:a.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new m({value:t.defaultTimeInterval,unit:a.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:r,hasLiveData:i,interval:l,startField:o,timeReference:n,fullTimeExtent:a,trackIdField:s,useTime:m}=this;return new p({cumulative:e,endField:r,hasLiveData:i,interval:l,startField:o,timeReference:t(n),fullTimeExtent:t(a),trackIdField:s,useTime:m})}};e([r({type:Boolean,json:{read:{source:\"exportOptions.timeDataCumulative\"},write:{target:\"exportOptions.timeDataCumulative\"}}})],d.prototype,\"cumulative\",void 0),e([r({type:String,json:{read:{source:\"endTimeField\"},write:{target:\"endTimeField\",allowNull:!0}}})],d.prototype,\"endField\",void 0),e([r({type:s,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,\"fullTimeExtent\",void 0),e([i(\"fullTimeExtent\",[\"timeExtent\"])],d.prototype,\"readFullTimeExtent\",null),e([o(\"fullTimeExtent\")],d.prototype,\"writeFullTimeExtent\",null),e([r({type:Boolean,json:{write:!0}})],d.prototype,\"hasLiveData\",void 0),e([r({type:m,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,\"interval\",void 0),e([i(\"interval\",[\"timeInterval\",\"timeIntervalUnits\",\"defaultTimeInterval\",\"defaultTimeIntervalUnits\"])],d.prototype,\"readInterval\",null),e([o(\"interval\")],d.prototype,\"writeInterval\",null),e([r({type:String,json:{read:{source:\"startTimeField\"},write:{target:\"startTimeField\",allowNull:!0}}})],d.prototype,\"startField\",void 0),e([r({type:u,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,\"timeReference\",void 0),e([r({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,\"trackIdField\",void 0),e([r({type:Boolean,json:{read:{source:\"exportOptions.useTime\"},write:{target:\"exportOptions.useTime\"}}})],d.prototype,\"useTime\",void 0),d=p=e([l(\"esri.layers.support.TimeInfo\")],d);var c=d;export default c;\n"],"sourceRoot":""}