{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js","webpack:///./node_modules/@arcgis/core/layers/graphics/sources/CSVSource.js","webpack:///./node_modules/@arcgis/core/layers/CSVLayer.js","webpack:///./node_modules/@arcgis/core/layers/support/FieldsIndex.js","webpack:///./node_modules/@arcgis/core/symbols/support/defaultsJSON.js","webpack:///./node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js","webpack:///./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/FeatureType.js","webpack:///./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","webpack:///./node_modules/@arcgis/core/layers/support/FeatureTemplate.js","webpack:///./node_modules/@arcgis/core/core/MemCache.js","webpack:///./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],"names":["f","i","t","c","Object","keys","items","u","e","l","declaredClass","s","n","o","diff","r","p","length","Array","isArray","type","oldValue","newValue","a","filter","indexOf","y","m","concat","sort","d","b","h","split","super","this","signal","addResolvingPromise","_startWorker","_connection","close","load","then","openPorts","invoke","toJSON","fromJSON","count","extent","strategy","url","parsing","columnDelimiter","delimiter","fields","map","latitudeField","longitudeField","spatialReference","timeInfo","locationInfo","sourceJSON","layerDefinition","prototype","editingEnabled","locationType","operationalLayerType","outFields","path","portalItem","WGS84","source","data","supportsAttachment","supportsM","supportsZ","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsQuery","supportsResizeAttachments","supportsUpdate","query","queryRelated","supportsCount","supportsOrderBy","supportsPagination","editing","supportsGeometryUpdate","supportsGlobalId","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","loaded","geometryType","showLabels","drawingInfo","labelingInfo","_set","read","origin","parsedUrl","queryFeatures","from","createQuery","features","layer","sourceLayer","queryObjectIds","queryFeatureCount","queryExtent","write","writeLayerSchema","readOnly","dependsOn","autoTracked","json","target","ignoreOrigin","Boolean","origins","String","isRequired","cast","value","writer","toLowerCase","trim","_fieldsMap","Map","_dateFieldsSet","Set","dateFields","name","set","push","add","uid","join","clear","get","has","style","size","color","outline","width","S","font","family","weight","horizontalAlignment","kerning","haloColor","haloSize","rotated","text","xoffset","yoffset","angle","isNaN","isFinite","valueExpression","field","valueUnit","stops","minSize","maxSize","minDataValue","maxDataValue","arguments","customParameters","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","id","domains","templates","hasOwnProperty","supportsStatistics","supportsPercentileStatistics","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","esriFeatureEditToolAutoCompletePolygon","esriFeatureEditToolCircle","esriFeatureEditToolEllipse","esriFeatureEditToolFreehand","esriFeatureEditToolLine","esriFeatureEditToolNone","esriFeatureEditToolPoint","esriFeatureEditToolPolygon","esriFeatureEditToolRectangle","esriFeatureEditToolArrow","esriFeatureEditToolTriangle","esriFeatureEditToolLeftArrow","esriFeatureEditToolRightArrow","esriFeatureEditToolUpArrow","esriFeatureEditToolDownArrow","description","drawingTool","thumbnail","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","slice","deregisterRemoveFunc","deregister","put","pop","updateSize","clearAll","getStats","resetStats","_maxSize","_db","_size","_removeFuncs","_users","removeUnordered","Math","max","_checkSizeLimit","delete","entry","_notifyRemoved","console","warn","lifetime","lives","Size","round","_getHitRate","Entries","toString","forEach","forAll","namespace","startsWith","hitRate","resetHitRate","getLogger","PI","visualVariables","attributes","ipData","hasExpression","cache","v","compiledFunc","arcade","error","viewingMode","scale","arcadeUtils","getViewInfo","createExecContext","createSyntaxTree","createFunction","executeFunction","normalizationField","parseFloat","g","blendColors","opacity","axis","rotationType","x","isScaleDriven","view","inputValueType","V","transformationType","shape","scaleBy","pow","sqrt","resolution","valueRepresentation","w","some","z","useSymbolValue"],"mappings":"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","file":"js/chunk-72f19a20.cf6d94f0.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../maybe.js\";import{getProperties as n}from\"./utils.js\";import o from\"../Accessor.js\";import r from\"../Collection.js\";const f=[\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"];function i(t){return t instanceof o}function c(t){return t instanceof r?Object.keys(t.items):i(t)?n(t).keys():t?Object.keys(t):[]}function u(t,e){return t instanceof r?t.items[e]:t[e]}function l(t){return t?t.declaredClass:null}function s(t,n){const o=t.diff;if(o&&\"function\"==typeof o)return o(t,n);const r=c(t),p=c(n);if(0===r.length&&0===p.length)return;if(!r.length||!p.length||function(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}(t,n))return{type:\"complete\",oldValue:t,newValue:n};const a=p.filter((t=>-1===r.indexOf(t))),y=r.filter((t=>-1===p.indexOf(t))),m=r.filter((e=>p.indexOf(e)>-1&&u(t,e)!==u(n,e))).concat(a,y).sort(),d=l(t);if(d&&f.indexOf(d)>-1&&m.length)return{type:\"complete\",oldValue:t,newValue:n};let b;const h=i(t)&&i(n);for(const r of m){const f=u(t,r),i=u(n,r);let c;(h||\"function\"!=typeof f&&\"function\"!=typeof i)&&(f!==i&&(null==f&&null==i||(c=o&&o[r]&&\"function\"==typeof o[r]?o[r](f,i):\"object\"==typeof f&&\"object\"==typeof i&&l(f)===l(i)?s(f,i):{type:\"complete\",oldValue:f,newValue:i},e(c)&&(e(b)?b.diff[r]=c:b={type:\"partial\",diff:{[r]:c}}))))}return b}function p(e,n){if(t(e))return!1;const o=n.split(\".\");let r=e;for(const t of o){if(\"complete\"===r.type)return!0;if(\"partial\"!==r.type)return!1;{const e=r.diff[t];if(!e)return!1;r=e}}return!0}function a(t,e){for(const n of e)if(p(t,n))return!0;return!1}function y(t,e){if(\"function\"!=typeof t&&\"function\"!=typeof e&&(t||e))return!t||!e||\"object\"==typeof t&&\"object\"==typeof e&&l(t)!==l(e)?{type:\"complete\",oldValue:t,newValue:e}:s(t,e)}function m(e){if(t(e))return!0;switch(e.type){case\"complete\":return!1;case\"collection\":{const t=e;for(const e of t.added)if(!m(e))return!1;for(const e of t.removed)if(!m(e))return!1;for(const e of t.changed)if(!m(e))return!1;return!0}case\"partial\":for(const t in e.diff){if(!m(e.diff[t]))return!1}return!0}}export{y as diff,p as hasDiff,a as hasDiffAny,m as isEmpty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/has.js\";import{isSome as o}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as s}from\"../../../core/promiseUtils.js\";import n from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import l from\"../../../core/Loadable.js\";import{open as c}from\"../../../core/workers/workers.js\";import u from\"../../../tasks/support/FeatureSet.js\";let a=class extends l{constructor(t){super(t),this.type=\"csv\"}load(t){const e=o(t)?t.signal:null;return this.addResolvingPromise(this._startWorker(e)),s(this)}destroy(){var t;null==(t=this._connection)||t.close(),this._connection=null}openPorts(){return this.load().then((()=>this._connection.openPorts()))}queryFeatures(t,e={}){return this.load(e).then((()=>this._connection.invoke(\"queryFeatures\",t?t.toJSON():null,e))).then((t=>u.fromJSON(t)))}queryFeaturesJSON(t,e={}){return this.load(e).then((()=>this._connection.invoke(\"queryFeatures\",t?t.toJSON():null,e)))}queryFeatureCount(t,e={}){return this.load(e).then((()=>this._connection.invoke(\"queryFeatureCount\",t?t.toJSON():null,e)))}queryObjectIds(t,e={}){return this.load(e).then((()=>this._connection.invoke(\"queryObjectIds\",t?t.toJSON():null,e)))}queryExtent(t,e={}){return this.load(e).then((()=>this._connection.invoke(\"queryExtent\",t?t.toJSON():null,e))).then((t=>({count:t.count,extent:n.fromJSON(t.extent)})))}async _startWorker(t){this._connection=await c(\"CSVSourceWorker\",{strategy:e(\"feature-layers-workers\")?\"dedicated\":\"local\",signal:t});const o=await this._connection.invoke(\"load\",{url:this.url,parsing:{columnDelimiter:this.delimiter,fields:this.fields&&this.fields.map((t=>t.toJSON())),latitudeField:this.latitudeField,longitudeField:this.longitudeField,spatialReference:this.spatialReference&&this.spatialReference.toJSON(),timeInfo:this.timeInfo&&this.timeInfo.toJSON()}},{signal:t});this.locationInfo=o.locationInfo,this.sourceJSON=o.layerDefinition,this.columnDelimiter=o.columnDelimiter}};t([r()],a.prototype,\"type\",void 0),t([r()],a.prototype,\"url\",void 0),t([r()],a.prototype,\"delimiter\",void 0),t([r()],a.prototype,\"fields\",void 0),t([r()],a.prototype,\"latitudeField\",void 0),t([r()],a.prototype,\"longitudeField\",void 0),t([r()],a.prototype,\"spatialReference\",void 0),t([r()],a.prototype,\"timeInfo\",void 0),t([r()],a.prototype,\"locationInfo\",void 0),t([r()],a.prototype,\"sourceJSON\",void 0),t([r()],a.prototype,\"columnDelimiter\",void 0),a=t([i(\"esri.layers.graphics.sources.CSVSource\")],a);var p=a;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{reader as r}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{r as i,w as s}from\"../chunks/persistableUrlUtils.js\";import a from\"../geometry/SpatialReference.js\";import\"../geometry.js\";import l from\"../tasks/support/Query.js\";import n from\"./FeatureLayer.js\";import{queryCapabilities as p}from\"./graphics/data/QueryEngineCapabilities.js\";import u from\"./graphics/sources/CSVSource.js\";let d=class extends n{constructor(...e){super(...e),this.delimiter=null,this.editingEnabled=!1,this.fields=null,this.latitudeField=null,this.locationType=\"coordinates\",this.longitudeField=null,this.operationalLayerType=\"CSV\",this.outFields=[\"*\"],this.path=null,this.portalItem=null,this.spatialReference=a.WGS84,this.source=null,this.type=\"csv\"}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}get capabilities(){return{data:{supportsAttachment:!1,supportsM:!1,supportsZ:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsQuery:!0,supportsResizeAttachments:!1,supportsUpdate:!1},query:p,queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},editing:{supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}get isTable(){return this.loaded&&null==this.geometryType}readWebMapLabelsVisible(e,t){return null!=t.showLabels?t.showLabels:!!(t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.labelingInfo)}set url(e){this._set(\"url\",e)}async createGraphicsSource(e){const t=new u({delimiter:this.delimiter,fields:this.fields,latitudeField:this.latitudeField,longitudeField:this.longitudeField,spatialReference:this.spatialReference,timeInfo:this.timeInfo,url:this.url});return this._set(\"source\",t),await t.load({signal:e}),this.read({locationInfo:t.locationInfo,columnDelimiter:t.columnDelimiter},{origin:\"service\",url:this.parsedUrl}),t}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(l.from(e)||this.createQuery()))).then((e=>{if(e&&e.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>this.source.queryObjectIds(l.from(e)||this.createQuery())))}queryFeatureCount(e,t){return this.load().then((()=>this.source.queryFeatureCount(l.from(e)||this.createQuery())))}queryExtent(e,t){return this.load().then((()=>this.source.queryExtent(l.from(e)||this.createQuery())))}write(e,t){return super.write(e,{...t,writeLayerSchema:!0})}_verifyFields(){}_verifySource(){}_hasMemorySource(){return!1}};e([t({readOnly:!0,dependsOn:[\"loaded\"],autoTracked:!1,json:{read:!1,write:!1}})],d.prototype,\"capabilities\",null),e([t({type:[\",\",\" \",\";\",\"|\",\"\\t\"],json:{read:{source:\"columnDelimiter\"},write:{target:\"columnDelimiter\",ignoreOrigin:!0}}})],d.prototype,\"delimiter\",void 0),e([t({readOnly:!0,type:Boolean,json:{origins:{\"web-scene\":{read:!1,write:!1}}}})],d.prototype,\"editingEnabled\",void 0),e([t({json:{read:{source:\"layerDefinition.fields\"},write:{target:\"layerDefinition.fields\"}}})],d.prototype,\"fields\",void 0),e([t({type:Boolean,readOnly:!0,dependsOn:[\"loaded\"]})],d.prototype,\"isTable\",null),e([r(\"web-map\",\"labelsVisible\",[\"layerDefinition.drawingInfo.labelingInfo\",\"showLabels\"])],d.prototype,\"readWebMapLabelsVisible\",null),e([t({type:String,json:{read:{source:\"locationInfo.latitudeFieldName\"},write:{target:\"locationInfo.latitudeFieldName\",ignoreOrigin:!0}}})],d.prototype,\"latitudeField\",void 0),e([t({type:[\"show\",\"hide\"]})],d.prototype,\"listMode\",void 0),e([t({type:[\"coordinates\"],json:{read:{source:\"locationInfo.locationType\"},write:{target:\"locationInfo.locationType\",ignoreOrigin:!0,isRequired:!0}}})],d.prototype,\"locationType\",void 0),e([t({type:String,json:{read:{source:\"locationInfo.longitudeFieldName\"},write:{target:\"locationInfo.longitudeFieldName\",ignoreOrigin:!0}}})],d.prototype,\"longitudeField\",void 0),e([t({type:[\"CSV\"]})],d.prototype,\"operationalLayerType\",void 0),e([t()],d.prototype,\"outFields\",void 0),e([t({type:String,json:{origins:{\"web-scene\":{read:!1,write:!1}},read:!1,write:!1}})],d.prototype,\"path\",void 0),e([t({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],d.prototype,\"portalItem\",void 0),e([t({json:{read:!1},cast:null,type:u,readOnly:!0})],d.prototype,\"source\",void 0),e([t({json:{read:!1},value:\"csv\",readOnly:!0})],d.prototype,\"type\",void 0),e([t({json:{read:i,write:{isRequired:!0,ignoreOrigin:!0,writer:s}}})],d.prototype,\"url\",null),d=e([o(\"esri.layers.CSVLayer\")],d);var c=d;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t){return\"date\"===t.type||\"esriFieldTypeDate\"===t.type}function e(t){return t.toLowerCase().trim()}export default class{constructor(s){if(this.fields=s,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!s)return;const i=[];for(const d of s){const s=d&&d.name;if(s){const a=e(s);this._fieldsMap.set(s,d),this._fieldsMap.set(a,d),i.push(a),t(d)&&(this.dateFields.push(d),this._dateFieldsSet.add(d))}}i.sort(),this.uid=i.join(\",\")}destroy(){this._fieldsMap.clear()}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(e(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}normalizeFieldName(t){const e=this.get(t);if(e)return e.name}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e=[252,146,31,255],i=[153,153,153,255],l={type:\"esriSMS\",style:\"esriSMSCircle\",size:6,color:e,outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[153,153,153,255]}},o={type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:e},S={type:\"esriSFS\",style:\"esriSFSSolid\",color:[252,146,31,196],outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[255,255,255,191]}},t={type:\"esriTS\",color:[255,255,255,255],font:{family:\"arial-unicode-ms\",size:10,weight:\"bold\"},horizontalAlignment:\"center\",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:\"\",xoffset:0,yoffset:0,angle:0},r={type:\"esriSMS\",style:\"esriSMSCircle\",color:[0,0,0,255],outline:null,size:10.5},s={type:\"esriSLS\",style:\"esriSLSSolid\",color:[0,0,0,255],width:1.5},y={type:\"esriSFS\",style:\"esriSFSSolid\",color:[0,0,0,255],outline:null};export{e as defaultColor,i as defaultOutlineColor,l as defaultPointSymbolJSON,S as defaultPolygonSymbolJSON,o as defaultPolylineSymbolJSON,t as defaultTextSymbolJSON,r as errorPointSymbolJSON,y as errorPolygonSymbolJSON,s as errorPolylineSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return n&&\"esri.renderers.visualVariables.SizeVariable\"===n.declaredClass}function e(n){return null!=n&&!isNaN(n)&&isFinite(n)}function i(n){return n.valueExpression?\"expression\":n.field&&\"string\"==typeof n.field?\"field\":\"unknown\"}function l(n,e){const l=e||i(n),a=n.valueUnit||\"unknown\";return\"unknown\"===l?\"constant\":n.stops?\"stops\":null!=n.minSize&&null!=n.maxSize&&null!=n.minDataValue&&null!=n.maxDataValue?\"clamped-linear\":\"unknown\"===a?null!=n.minSize&&null!=n.minDataValue?n.minSize&&n.minDataValue?\"proportional\":\"additive\":\"identity\":\"real-world-size\"}export{i as getInputValueType,l as getTransformationType,n as isSizeVariable,e as isValidNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return r([s({json:{write:!0,origins:{\"web-scene\":{write:!1}}}})],t.prototype,\"customParameters\",void 0),t=r([o(\"esri.layers.mixins.CustomParametersMixin\")],t),t};export{e as CustomParametersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{fixJson as r}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import i from\"./CodedValueDomain.js\";import m from\"./InheritedDomain.js\";import n from\"./RangeDomain.js\";import\"./domains.js\";import c from\"./FeatureTemplate.js\";let l=class extends a{constructor(o){super(o),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(o){const r={};for(const e in o)if(o.hasOwnProperty(e)){const t=o[e];switch(t.type){case\"range\":r[e]=n.fromJSON(t);break;case\"codedValue\":r[e]=i.fromJSON(t);break;case\"inherited\":r[e]=m.fromJSON(t)}}return r}writeDomains(o,e){const t={};for(const r in o)o.hasOwnProperty(r)&&(t[r]=o[r]&&o[r].toJSON());r(t),e.domains=t}readTemplates(o){return o&&o.map((o=>new c(o)))}writeTemplates(o,r){r.templates=o&&o.map((o=>o.toJSON()))}};o([e({json:{write:!0}})],l.prototype,\"id\",void 0),o([e({json:{write:!0}})],l.prototype,\"name\",void 0),o([e({json:{write:!0}})],l.prototype,\"domains\",void 0),o([t(\"domains\")],l.prototype,\"readDomains\",null),o([p(\"domains\")],l.prototype,\"writeDomains\",null),o([e({json:{write:!0}})],l.prototype,\"templates\",void 0),o([t(\"templates\")],l.prototype,\"readTemplates\",null),o([p(\"templates\")],l.prototype,\"writeTemplates\",null),l=o([s(\"esri.layers.support.FeatureType\")],l);var u=l;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{fixJson as r,clone as e}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as l}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";const a=new i({esriFeatureEditToolAutoCompletePolygon:\"auto-complete-polygon\",esriFeatureEditToolCircle:\"circle\",esriFeatureEditToolEllipse:\"ellipse\",esriFeatureEditToolFreehand:\"freehand\",esriFeatureEditToolLine:\"line\",esriFeatureEditToolNone:\"none\",esriFeatureEditToolPoint:\"point\",esriFeatureEditToolPolygon:\"polygon\",esriFeatureEditToolRectangle:\"rectangle\",esriFeatureEditToolArrow:\"arrow\",esriFeatureEditToolTriangle:\"triangle\",esriFeatureEditToolLeftArrow:\"left-arrow\",esriFeatureEditToolRightArrow:\"right-arrow\",esriFeatureEditToolUpArrow:\"up-arrow\",esriFeatureEditToolDownArrow:\"down-arrow\"});let n=class extends p{constructor(o){super(o),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(o,r){r.drawingTool=a.toJSON(o)}writePrototype(o,t){t.prototype=r(e(o),!0)}writeThumbnail(o,t){t.thumbnail=r(e(o))}};o([t({json:{write:!0}})],n.prototype,\"name\",void 0),o([t({json:{write:!0}})],n.prototype,\"description\",void 0),o([t({json:{read:a.read,write:a.write}})],n.prototype,\"drawingTool\",void 0),o([l(\"drawingTool\")],n.prototype,\"writeDrawingTool\",null),o([t({json:{write:!0}})],n.prototype,\"prototype\",void 0),o([l(\"prototype\")],n.prototype,\"writePrototype\",null),o([t({json:{write:!0}})],n.prototype,\"thumbnail\",void 0),o([l(\"thumbnail\")],n.prototype,\"writeThumbnail\",null),n=o([s(\"esri.layers.support.FeatureTemplate\")],n);var u=n;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new t}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs=this._removeFuncs.filter((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,e,s,i){const h=this._db.get(t);if(h&&(this._size-=h.size,this._db.delete(t),h.entry!==e&&this._notifyRemoved(t,h.entry)),s>this._maxSize)return void this._notifyRemoved(t,e);if(void 0===e)return void console.warn(\"Refusing to cache undefined entry \");if(!s||s<0)return void console.warn(\"Refusing to cache entry with invalid size \"+s);const r=1+Math.max(i,-3)- -3;this._db.set(t,{entry:e,size:s,lifetime:r,lives:r}),this._size+=s,this._checkSizeLimit()}updateSize(t,e,s){const i=this._db.get(t);i&&i.entry===e&&(this._size-=i.size,s>this._maxSize?this._notifyRemoved(t,e):(i.size=s,this._size+=s,this._checkSizeLimit()))}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},e={},s=new Array;this._db.forEach(((t,i)=>{const h=t.lifetime;s[h]=(s[h]||0)+t.size,this._users.forAll((s=>{const h=s.namespace;if(i.startsWith(h)){const s=e[h]||0;e[h]=s+t.size}}))}));const i={};this._users.forAll((t=>{const s=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const h=e[s]||0;e[s]=h,i[s]=Math.round(100*t.hitRate)+\"%\"}else i[s]=\"0%\"}));const h=Object.keys(e);h.forEach((t=>e[t]=e[t]/this._size*100)),h.sort(((t,s)=>e[s]-e[t])),h.forEach((s=>t[s]=Math.round(e[s])+\"% / \"+i[s]));for(let e=s.length-1;e>=0;--e){const i=s[e];i&&(t[\"Priority \"+(e+-3-1)]=Math.round(i/this.size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forEach((s=>{t.startsWith(s[0])&&s[1](e)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}export{e as MIN_PRIORITY,s as MemCache,i as MemCacheStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as a,isNone as r}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import t from\"../../../Color.js\";import n from\"../../../Graphic.js\";import{meterIn as s}from\"../../support/lengthUtils.js\";import{isSizeVariable as o,isValidNumber as l}from\"./sizeVariableUtils.js\";const c=i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),u=new n,f=Math.PI,p=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function d(e,r,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"color\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");const s=\"number\"==typeof r,o=s?null:r,l=o&&o.attributes;let u=s?r:null;const f=n.field,{ipData:p,hasExpression:d}=n.cache;let v=n.cache.compiledFunc;if(!f&&!d){const e=n.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof u)if(d){if(!a(i)||!a(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,t=r.getViewInfo(e),s=r.createExecContext(o,t);if(!v){const e=r.createSyntaxTree(n.valueExpression);v=r.createFunction(e),n.cache.compiledFunc=v}u=r.executeFunction(v,s)}else l&&(u=l[f]);const b=n.normalizationField,h=l?parseFloat(l[b]):void 0;if(null!=u&&(!b||s||!isNaN(h)&&0!==h)){isNaN(h)||s||(u/=h);const e=g(u,p);if(e){const r=e[0],s=e[1],o=r===s?n.stops[r].color:t.blendColors(n.stops[r].color,n.stops[s].color,e[2],a(i)?i.color:void 0);return new t(o)}}}function v(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"opacity\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");const n=\"number\"==typeof a,s=n?null:a,o=s&&s.attributes;let l=n?a:null;const u=t.field,{ipData:f,hasExpression:p}=t.cache;let d=t.cache.compiledFunc;if(!u&&!p){const e=t.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),o=a.createExecContext(s,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}l=a.executeFunction(d,o)}else o&&(l=o[u]);const v=t.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||n||!isNaN(b)&&0!==b)){isNaN(b)||n||(l/=b);const e=g(l,f);if(e){const a=e[0],r=e[1];if(a===r)return t.stops[a].opacity;{const i=t.stops[a].opacity;return i+(t.stops[r].opacity-i)*e[2]}}}}function b(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"rotation\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");const n=t.axis||\"heading\",s=\"heading\"===n&&\"arithmetic\"===t.rotationType?90:0,o=\"heading\"===n&&\"arithmetic\"===t.rotationType?-1:1,l=\"number\"==typeof a?null:a,u=l&&l.attributes,f=t.field,{hasExpression:p}=t.cache;let d=t.cache.compiledFunc,v=0;if(!f&&!p)return v;if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),s=a.createExecContext(l,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}v=a.executeFunction(d,s)}else u&&(v=u[f]||0);return v=\"number\"!=typeof v||isNaN(v)?null:s+o*v,v}function h(e,i,t){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"size\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");const s=x(function(e,i,t){const n=\"number\"==typeof i,s=n?null:i,o=s&&s.attributes;let u=n?i:null;const{isScaleDriven:f}=e.cache;let p=e.cache.compiledFunc;if(f){const r=a(t)?t.scale:void 0,i=a(t)?t.view:void 0;u=null==r||\"3d\"===i?function(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}(e):r}else if(!n)switch(e.inputValueType){case\"expression\":{if(r(t)||r(t.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const a={viewingMode:t.viewingMode,scale:t.scale,spatialReference:t.spatialReference},i=t.arcade.arcadeUtils,n=i.getViewInfo(a),o=i.createExecContext(s,n);if(!p){const a=i.createSyntaxTree(e.valueExpression);p=i.createFunction(a),e.cache.compiledFunc=p}u=i.executeFunction(p,o);break}case\"field\":o&&(u=o[e.field]);break;case\"unknown\":u=null}if(!l(u))return null;if(n||!e.normalizationField)return u;const d=o?parseFloat(o[e.normalizationField]):null;return l(d)&&0!==d?u/d:null}(n,i,t),n,i,t,n.cache.ipData);return null==s||isNaN(s)?0:s}function m(e,a,r){return null==e?null:o(e)?h(e,a,r):l(e)?e:null}function V(e,a,r){return l(r)&&e>r?r:l(a)&&e<a?a:e}function x(e,r,i,t,n){switch(r.transformationType){case\"additive\":return function(e,a,r,i){return e+(m(a.minSize,r,i)||a.minDataValue)}(e,r,i,t);case\"constant\":return function(e,a,r){const i=e.stops;let t=i&&i.length&&i[0].size;return null==t&&(t=e.minSize),m(t,a,r)}(r,i,t);case\"clamped-linear\":return function(e,r,i,t){const n=(e-r.minDataValue)/(r.maxDataValue-r.minDataValue),s=m(r.minSize,i,t),o=m(r.maxSize,i,t),l=a(t)?t.shape:void 0;if(e<=r.minDataValue)return s;if(e>=r.maxDataValue)return o;if(\"area\"===r.scaleBy&&l){const e=\"circle\"===l,a=e?f*Math.pow(s/2,2):s*s,r=a+n*((e?f*Math.pow(o/2,2):o*o)-a);return e?2*Math.sqrt(r/f):Math.sqrt(r)}return s+n*(o-s)}(e,r,i,t);case\"proportional\":return function(e,r,i,t){const n=a(t)?t.shape:void 0,s=e/r.minDataValue,o=m(r.minSize,i,t),l=m(r.maxSize,i,t);let c=null;return c=\"circle\"===n?2*Math.sqrt(s*Math.pow(o/2,2)):\"square\"===n||\"diamond\"===n||\"image\"===n?Math.sqrt(s*Math.pow(o,2)):s*o,V(c,o,l)}(e,r,i,t);case\"stops\":return function(e,a,r,i,t){const[n,s,o]=g(e,t);if(n===s)return m(a.stops[n].size,r,i);{const e=m(a.stops[n].size,r,i);return e+(m(a.stops[s].size,r,i)-e)*o}}(e,r,i,t,n);case\"real-world-size\":return function(e,r,i,t){const n=(a(t)&&t.resolution?t.resolution:1)*s[r.valueUnit],o=m(r.minSize,i,t),l=m(r.maxSize,i,t),{valueRepresentation:c}=r;let u=null;return u=\"area\"===c?2*Math.sqrt(e/f)/n:\"radius\"===c||\"distance\"===c?2*e/n:e/n,V(u,o,l)}(e,r,i,t);case\"identity\":return e;case\"unknown\":return null}}function w(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===r||a))return null;const t={scale:a,view:r};let n=m(e.minSize,u,t),s=m(e.maxSize,u,t);if(null!=n||null!=s){if(n>s){const e=s;s=n,n=e}return{minSize:n,maxSize:s}}}function y(e,a,r){if(!e.visualVariables)return;const i=[],t=[],n=[],s=[],o=[];for(const a of e.visualVariables)switch(a.type){case\"color\":t.push(a);break;case\"opacity\":n.push(a);break;case\"rotation\":o.push(a);break;case\"size\":s.push(a)}return t.forEach((e=>{const t=d(e,a,r);i.push({variable:e,value:t})})),n.forEach((e=>{const t=v(e,a,r);i.push({variable:e,value:t})})),o.forEach((e=>{const t=b(e,a,r);i.push({variable:e,value:t})})),s.forEach((e=>{const t=h(e,a,r);i.push({variable:e,value:t})})),i.filter((e=>null!=e.value))}function g(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,t)=>e<a?(i=t,!0):(r=t,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function z(a,r,i){const t=[\"proportional\",\"proportional\",\"proportional\"];for(const n of a){const a=n.useSymbolValue?\"symbol-value\":h(n,r,i);switch(n.axis){case\"width\":t[0]=a;break;case\"depth\":t[1]=a;break;case\"height\":t[2]=a;break;case\"width-and-depth\":t[0]=a,t[1]=a;break;case\"all\":case void 0:case null:t[0]=a,t[1]=a,t[2]=a;break;default:e(n.axis)}}return t}export{z as getAllSizes,d as getColor,v as getOpacity,b as getRotationAngle,h as getSize,x as getSizeForValue,m as getSizeFromNumberOrVariable,w as getSizeRangeAtScale,y as getVisualVariableValues,p as viewScaleRE};\n"],"sourceRoot":""}