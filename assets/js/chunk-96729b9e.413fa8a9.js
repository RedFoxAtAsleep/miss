(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96729b9e"],{"86f2":function(e,t,a){"use strict";function r(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function i(e){return null!=e&&!isNaN(e)&&isFinite(e)}function n(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){const a=t||n(e),r=e.valueUnit||"unknown";return"unknown"===a?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===r?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return i}))},"8b28":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("a4ee"),i=(a("c120"),a("e92d"),a("cea0"),a("59b2")),n=a("d386");a("e041"),a("8eed"),a("f402");const o=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return Object(r["a"])([Object(i["b"])({json:{write:!0,origins:{"web-scene":{write:!1}}}})],t.prototype,"customParameters",void 0),t=Object(r["a"])([Object(n["a"])("esri.layers.mixins.CustomParametersMixin")],t),t}},"9b40":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("2255"),i=a("8048");const n={inches:Object(i["a"])(1,"meters","inches"),feet:Object(i["a"])(1,"meters","feet"),"us-feet":Object(i["a"])(1,"meters","us-feet"),yards:Object(i["a"])(1,"meters","yards"),miles:Object(i["a"])(1,"meters","miles"),"nautical-miles":Object(i["a"])(1,"meters","nautical-miles"),millimeters:Object(i["a"])(1,"meters","millimeters"),centimeters:Object(i["a"])(1,"meters","centimeters"),decimeters:Object(i["a"])(1,"meters","decimeters"),meters:Object(i["a"])(1,"meters","meters"),kilometers:Object(i["a"])(1,"meters","kilometers"),"decimal-degrees":1/Object(i["h"])(1,"meters",r["a"].radius)}},a2b1:function(e,t,a){"use strict";var r=a("a4ee"),i=(a("c120"),a("7ffa")),n=(a("e92d"),a("cea0"),a("59b2")),o=a("afcf"),s=a("d386"),c=a("09db"),l=(a("e041"),a("8eed"),a("f402"),a("6a0e")),u=a("4106"),d=a("b5a9"),p=a("df3d"),b=(a("5970"),a("ace4"));let f=class extends l["a"]{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const a in e)if(e.hasOwnProperty(a)){const r=e[a];switch(r.type){case"range":t[a]=p["a"].fromJSON(r);break;case"codedValue":t[a]=u["a"].fromJSON(r);break;case"inherited":t[a]=d["a"].fromJSON(r)}}return t}writeDomains(e,t){const a={};for(const r in e)e.hasOwnProperty(r)&&(a[r]=e[r]&&e[r].toJSON());Object(i["c"])(a),t.domains=a}readTemplates(e){return e&&e.map(e=>new b["a"](e))}writeTemplates(e,t){t.templates=e&&e.map(e=>e.toJSON())}};Object(r["a"])([Object(n["b"])({json:{write:!0}})],f.prototype,"id",void 0),Object(r["a"])([Object(n["b"])({json:{write:!0}})],f.prototype,"name",void 0),Object(r["a"])([Object(n["b"])({json:{write:!0}})],f.prototype,"domains",void 0),Object(r["a"])([Object(o["a"])("domains")],f.prototype,"readDomains",null),Object(r["a"])([Object(c["a"])("domains")],f.prototype,"writeDomains",null),Object(r["a"])([Object(n["b"])({json:{write:!0}})],f.prototype,"templates",void 0),Object(r["a"])([Object(o["a"])("templates")],f.prototype,"readTemplates",null),Object(r["a"])([Object(c["a"])("templates")],f.prototype,"writeTemplates",null),f=Object(r["a"])([Object(s["a"])("esri.layers.support.FeatureType")],f);var m=f;t["a"]=m},ace4:function(e,t,a){"use strict";var r=a("a4ee"),i=(a("c120"),a("7ffa")),n=(a("e92d"),a("cea0"),a("59b2")),o=a("fa8a"),s=a("d386"),c=a("09db"),l=(a("e041"),a("8eed"),a("f402"),a("6a0e"));const u=new o["a"]({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let d=class extends l["a"]{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=u.toJSON(e)}writePrototype(e,t){t.prototype=Object(i["c"])(Object(i["a"])(e),!0)}writeThumbnail(e,t){t.thumbnail=Object(i["c"])(Object(i["a"])(e))}};Object(r["a"])([Object(n["b"])({json:{write:!0}})],d.prototype,"name",void 0),Object(r["a"])([Object(n["b"])({json:{write:!0}})],d.prototype,"description",void 0),Object(r["a"])([Object(n["b"])({json:{read:u.read,write:u.write}})],d.prototype,"drawingTool",void 0),Object(r["a"])([Object(c["a"])("drawingTool")],d.prototype,"writeDrawingTool",null),Object(r["a"])([Object(n["b"])({json:{write:!0}})],d.prototype,"prototype",void 0),Object(r["a"])([Object(c["a"])("prototype")],d.prototype,"writePrototype",null),Object(r["a"])([Object(n["b"])({json:{write:!0}})],d.prototype,"thumbnail",void 0),Object(r["a"])([Object(c["a"])("thumbnail")],d.prototype,"writeThumbnail",null),d=Object(r["a"])([Object(s["a"])("esri.layers.support.FeatureTemplate")],d);var p=d;t["a"]=p},d297:function(e,t,a){"use strict";a.d(t,"a",(function(){return x})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return w})),a.d(t,"f",(function(){return y})),a.d(t,"g",(function(){return b}));var r=a("6c97"),i=a("b2b2"),n=a("e92d"),o=a("9ef0"),s=a("8d60"),c=a("9b40"),l=a("86f2");const u=n["a"].getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new s["a"],p=Math.PI,b=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(e,t,a){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"color"===e.type)[0]:e;if(!r)return;if("esri.renderers.visualVariables.ColorVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const n="number"==typeof t,s=n?null:t,c=s&&s.attributes;let l=n?t:null;const d=r.field,{ipData:p,hasExpression:b}=r.cache;let f=r.cache.compiledFunc;if(!d&&!b){const e=r.stops;return e&&e[0]&&e[0].color}if("number"!=typeof l)if(b){if(!Object(i["h"])(a)||!Object(i["h"])(a.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:a.viewingMode,scale:a.scale,spatialReference:a.spatialReference},t=a.arcade.arcadeUtils,n=t.getViewInfo(e),o=t.createExecContext(s,n);if(!f){const e=t.createSyntaxTree(r.valueExpression);f=t.createFunction(e),r.cache.compiledFunc=f}l=t.executeFunction(f,o)}else c&&(l=c[d]);const m=r.normalizationField,h=c?parseFloat(c[m]):void 0;if(null!=l&&(!m||n||!isNaN(h)&&0!==h)){isNaN(h)||n||(l/=h);const e=V(l,p);if(e){const t=e[0],n=e[1],s=t===n?r.stops[t].color:o["a"].blendColors(r.stops[t].color,r.stops[n].color,e[2],Object(i["h"])(a)?a.color:void 0);return new o["a"](s)}}}function m(e,t,a){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"opacity"===e.type)[0]:e;if(!r)return;if("esri.renderers.visualVariables.OpacityVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const n="number"==typeof t,o=n?null:t,s=o&&o.attributes;let c=n?t:null;const l=r.field,{ipData:d,hasExpression:p}=r.cache;let b=r.cache.compiledFunc;if(!l&&!p){const e=r.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof c)if(p){if(Object(i["g"])(a)||Object(i["g"])(a.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:a.viewingMode,scale:a.scale,spatialReference:a.spatialReference},t=a.arcade.arcadeUtils,n=t.getViewInfo(e),s=t.createExecContext(o,n);if(!b){const e=t.createSyntaxTree(r.valueExpression);b=t.createFunction(e),r.cache.compiledFunc=b}c=t.executeFunction(b,s)}else s&&(c=s[l]);const f=r.normalizationField,m=s?parseFloat(s[f]):void 0;if(null!=c&&(!f||n||!isNaN(m)&&0!==m)){isNaN(m)||n||(c/=m);const e=V(c,d);if(e){const t=e[0],a=e[1];if(t===a)return r.stops[t].opacity;{const i=r.stops[t].opacity;return i+(r.stops[a].opacity-i)*e[2]}}}}function h(e,t,a){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"rotation"===e.type)[0]:e;if(!r)return;if("esri.renderers.visualVariables.RotationVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const n=r.axis||"heading",o="heading"===n&&"arithmetic"===r.rotationType?90:0,s="heading"===n&&"arithmetic"===r.rotationType?-1:1,c="number"==typeof t?null:t,l=c&&c.attributes,d=r.field,{hasExpression:p}=r.cache;let b=r.cache.compiledFunc,f=0;if(!d&&!p)return f;if(p){if(Object(i["g"])(a)||Object(i["g"])(a.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:a.viewingMode,scale:a.scale,spatialReference:a.spatialReference},t=a.arcade.arcadeUtils,n=t.getViewInfo(e),o=t.createExecContext(c,n);if(!b){const e=t.createSyntaxTree(r.valueExpression);b=t.createFunction(e),r.cache.compiledFunc=b}f=t.executeFunction(b,o)}else l&&(f=l[d]||0);return f="number"!=typeof f||isNaN(f)?null:o+s*f,f}function w(e,t,a){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"size"===e.type)[0]:e;if(!r)return;if("esri.renderers.visualVariables.SizeVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const n=v(function(e,t,a){const r="number"==typeof t,n=r?null:t,o=n&&n.attributes;let s=r?t:null;const{isScaleDriven:c}=e.cache;let d=e.cache.compiledFunc;if(c){const t=Object(i["h"])(a)?a.scale:void 0,r=Object(i["h"])(a)?a.view:void 0;s=null==t||"3d"===r?function(e){let t=null,a=null;const r=e.stops;return r?(t=r[0].value,a=r[r.length-1].value):(t=e.minDataValue||0,a=e.maxDataValue||0),(t+a)/2}(e):t}else if(!r)switch(e.inputValueType){case"expression":{if(Object(i["g"])(a)||Object(i["g"])(a.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:a.viewingMode,scale:a.scale,spatialReference:a.spatialReference},r=a.arcade.arcadeUtils,o=r.getViewInfo(t),c=r.createExecContext(n,o);if(!d){const t=r.createSyntaxTree(e.valueExpression);d=r.createFunction(t),e.cache.compiledFunc=d}s=r.executeFunction(d,c);break}case"field":o&&(s=o[e.field]);break;case"unknown":s=null}if(!Object(l["d"])(s))return null;if(r||!e.normalizationField)return s;const p=o?parseFloat(o[e.normalizationField]):null;return Object(l["d"])(p)&&0!==p?s/p:null}(r,t,a),r,t,a,r.cache.ipData);return null==n||isNaN(n)?0:n}function j(e,t,a){return null==e?null:Object(l["c"])(e)?w(e,t,a):Object(l["d"])(e)?e:null}function O(e,t,a){return Object(l["d"])(a)&&e>a?a:Object(l["d"])(t)&&e<t?t:e}function v(e,t,a,r,n){switch(t.transformationType){case"additive":return function(e,t,a,r){return e+(j(t.minSize,a,r)||t.minDataValue)}(e,t,a,r);case"constant":return function(e,t,a){const r=e.stops;let i=r&&r.length&&r[0].size;return null==i&&(i=e.minSize),j(i,t,a)}(t,a,r);case"clamped-linear":return function(e,t,a,r){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=j(t.minSize,a,r),s=j(t.maxSize,a,r),c=Object(i["h"])(r)?r.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return s;if("area"===t.scaleBy&&c){const e="circle"===c,t=e?p*Math.pow(o/2,2):o*o,a=t+n*((e?p*Math.pow(s/2,2):s*s)-t);return e?2*Math.sqrt(a/p):Math.sqrt(a)}return o+n*(s-o)}(e,t,a,r);case"proportional":return function(e,t,a,r){const n=Object(i["h"])(r)?r.shape:void 0,o=e/t.minDataValue,s=j(t.minSize,a,r),c=j(t.maxSize,a,r);let l=null;return l="circle"===n?2*Math.sqrt(o*Math.pow(s/2,2)):"square"===n||"diamond"===n||"image"===n?Math.sqrt(o*Math.pow(s,2)):o*s,O(l,s,c)}(e,t,a,r);case"stops":return function(e,t,a,r,i){const[n,o,s]=V(e,i);if(n===o)return j(t.stops[n].size,a,r);{const e=j(t.stops[n].size,a,r);return e+(j(t.stops[o].size,a,r)-e)*s}}(e,t,a,r,n);case"real-world-size":return function(e,t,a,r){const n=(Object(i["h"])(r)&&r.resolution?r.resolution:1)*c["a"][t.valueUnit],o=j(t.minSize,a,r),s=j(t.maxSize,a,r),{valueRepresentation:l}=t;let u=null;return u="area"===l?2*Math.sqrt(e/p)/n:"radius"===l||"distance"===l?2*e/n:e/n,O(u,o,s)}(e,t,a,r);case"identity":return e;case"unknown":return null}}function y(e,t,a){const{isScaleDriven:r}=e.cache;if(!(r&&"3d"===a||t))return null;const i={scale:t,view:a};let n=j(e.minSize,d,i),o=j(e.maxSize,d,i);if(null!=n||null!=o){if(n>o){const e=o;o=n,n=e}return{minSize:n,maxSize:o}}}function V(e,t){if(!t)return;let a=0,r=t.length-1;return t.some((t,i)=>e<t?(r=i,!0):(a=i,!1)),[a,r,(e-t[a])/(t[r]-t[a])]}function x(e,t,a){const i=["proportional","proportional","proportional"];for(const n of e){const e=n.useSymbolValue?"symbol-value":w(n,t,a);switch(n.axis){case"width":i[0]=e;break;case"depth":i[1]=e;break;case"height":i[2]=e;break;case"width-and-depth":i[0]=e,i[1]=e;break;case"all":case void 0:case null:i[0]=e,i[1]=e,i[2]=e;break;default:Object(r["a"])(n.axis)}}return i}}}]);