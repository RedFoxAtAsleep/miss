{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack:///./node_modules/@arcgis/core/layers/support/commonProperties.js","webpack:///./node_modules/@arcgis/core/layers/GroupLayer.js","webpack:///./node_modules/@arcgis/core/layers/mixins/BlendLayer.js","webpack:///./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/operationalLayers.js","webpack:///./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","webpack:///./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","webpack:///./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","webpack:///./node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","webpack:///./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","webpack:///./node_modules/@arcgis/core/symbols/support/ElevationInfo.js"],"names":["n","getLogger","d","r","super","arguments","this","resourceReferences","portalItem","paths","t","destroy","_get","removeOrigin","_set","e","itemId","id","portal","load","instance","supportedTypes","validateItem","supportsData","warn","title","layer","read","o","getDefault","restUrl","messages","push","write","type","prototype","String","s","Boolean","value","json","origins","source","i","screenSizePerspective","originOf","store","set","ignoreOrigin","target","a","name","reader","disablePopup","enabled","l","p","isRequired","writer","c","service","f","readOnly","u","Number","default","y","opacity","origin","drawingInfo","transparency","layerDefinition","m","dependsOn","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","timeOffset","offset","unit","equals","b","_visibilityHandles","fullExtent","operationalLayerType","spatialReference","_visibilityWatcher","bind","_enforceVisibility","visibilityMode","visible","watch","_visibleWatcher","forEach","webmap","getLayerJSONFromResourceInfo","layerType","layers","addResolvingPromise","loadFromPortal","_turnOffOtherLayers","uid","remove","initialized","find","length","getItemAt","_isAnyLayerVisible","some","v","blendMode","effect","nonNullable","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BuildingSceneLayer","GroupLayer","IntegratedMeshLayer","PointCloudLayer","WebTiledLayer","CSV","VectorTileLayer","WMS","KML","RasterDataLayer","OpenStreetMap","RasterDataElevationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","WFS","SubtypeGroupLayer","layerContainerType","declaredClass","filter","url","allowNull","_propertyOriginMap","Map","_originStores","Array","_values","has","get","keys","delete","metadatas","Object","internalGet","originIdOf","propertyInvalidated","revert","propertyCommitted","setAtOrigin","toJSON","isDefaultToJSON","O","expression","sort","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","featureExpression","_isOverridden","featureExpressionInfo","_override","mode","clone","apiValues","jsonValues","x"],"mappings":"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","file":"assets/js/chunk-af747db0.81892fef.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l}from\"../../core/promiseUtils.js\";import m from\"../../portal/Portal.js\";import c from\"../../portal/PortalItem.js\";const n=r.getLogger(\"esri.layers.mixins.PortalLayer\"),d=r=>{let d=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new c({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(t){throw n.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${t}`),t}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:c})],d.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],d.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],d.prototype,\"writePortalItem\",null),t([e()],d.prototype,\"resourceReferences\",void 0),d=t([s(\"esri.layers.mixins.PortalLayer\")],d),d};export{d as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as r}from\"../../core/accessorSupport/write.js\";import{transparencyToOpacity as n}from\"../../webdoc/support/opacityUtils.js\";import t from\"../../TimeExtent.js\";import o from\"../../symbols/support/ElevationInfo.js\";const s={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(i,r){if(null!=r.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return r.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,i,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||r(this,\"screenSizePerspectiveEnabled\",{},t))&&(i[n]=e)}}}}}},a={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,i)=>!i.disablePopup},write:{enabled:!0,writer(e,i,r){i[r]=!e}}}},l={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},p={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},c={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:o,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},y={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,i,r)=>r&&\"service\"!==r.origin||!i.drawingInfo||void 0===i.drawingInfo.transparency?i.layerDefinition&&i.layerDefinition.drawingInfo&&void 0!==i.layerDefinition.drawingInfo.transparency?n(i.layerDefinition.drawingInfo.transparency):void 0:n(i.drawingInfo.transparency)}}},m={type:t,dependsOn:[\"view.timeExtent\",\"layer.timeExtent\",\"layer.timeInfo\",\"layer.timeOffset\",\"layer.timeOffset.value\",\"layer.timeOffset.unit\",\"layer.useViewTime\"],readOnly:!0,get(){var e,i;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(i=this.view)?void 0:i.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,s=o?t.offset(-o.value,o.unit):t,a=this._get(\"timeExtent\");return s.equals(a)?a:s}};export{m as combinedViewLayerTimeExtentProperty,d as elevationInfo,l as labelsVisible,c as legendEnabled,u as opacity,y as opacityDrawingInfo,a as popupEnabled,f as readOnlyService,s as screenSizePerspectiveEnabled,p as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as e}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{getProperties as t}from\"../core/accessorSupport/utils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../core/accessorSupport/decorators/writer.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as l}from\"../core/promiseUtils.js\";import{loadAll as a}from\"../core/loadAll.js\";import{getLayerJSON as p}from\"../webdoc/support/writeUtils.js\";import n from\"./Layer.js\";import{LayersMixin as y}from\"../support/LayersMixin.js\";import{TablesMixin as c}from\"../support/TablesMixin.js\";import{MultiOriginJSONMixin as h}from\"../core/MultiOriginJSONSupport.js\";import{OperationalLayer as d}from\"./mixins/OperationalLayer.js\";import{BlendLayer as m}from\"./mixins/BlendLayer.js\";import{PortalLayer as u}from\"./mixins/PortalLayer.js\";let b=class extends(m(d(u(c(y(h(n))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,t,s,r){const o=[];if(!i)return o;i.forEach((i=>{const t=p(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);e(t)&&t.layerType&&o.push(t)})),t.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),l(this)}loadAll(){return a(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!t(this).initialized)return;const s=this.layers;let r=s.find((i=>i.visible));switch(i){case\"exclusive\":s.length&&!r&&(r=s.getItemAt(0),r.visible=!0),this._turnOffOtherLayers(r);break;case\"inherited\":s.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([s()],b.prototype,\"fullExtent\",void 0),i([s({json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,\"layers\",void 0),i([o(\"layers\")],b.prototype,\"_writeLayers\",null),i([s({type:[\"GroupLayer\"]})],b.prototype,\"operationalLayerType\",void 0),i([s({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],b.prototype,\"portalItem\",null),i([s()],b.prototype,\"spatialReference\",void 0),i([s({json:{read:!1},readOnly:!0,value:\"group\"})],b.prototype,\"type\",void 0),i([s({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],b.prototype,\"visibilityMode\",null),b=i([r(\"esri.layers.GroupLayer\")],b);var v=b;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const t=t=>{let s=class extends t{constructor(){super(...arguments),this.blendMode=\"normal\",this.effect=null}};return o([r({type:[\"average\",\"color-burn\",\"color-dodge\",\"color\",\"darken\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"difference\",\"exclusion\",\"hard-light\",\"hue\",\"invert\",\"lighten\",\"lighter\",\"luminosity\",\"minus\",\"multiply\",\"normal\",\"overlay\",\"plus\",\"reflect\",\"saturation\",\"screen\",\"soft-light\",\"source-atop\",\"source-in\",\"source-out\",\"vivid-light\",\"xor\"],nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-map\":{default:\"normal\",read:!0,write:!0}}}})],s.prototype,\"blendMode\",void 0),o([r()],s.prototype,\"effect\",void 0),s=o([e(\"esri.layers.mixins.BlendLayer\")],s),s};export{t as BlendLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e={\"web-scene/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},\"web-scene/basemap\":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-map/operational-layers\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-map/basemap\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},\"web-map/tables\":{ArcGISFeatureLayer:!0},\"portal-item/operational-layers\":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};export{e as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as p}from\"../../core/accessorSupport/write.js\";import{supportedTypes as a}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&p(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){!e||i&&\"tables\"===i.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,r){if(r&&r.origin){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`,t=a[e];let i=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(i=!1),!i)return r.messages&&r.messages.push(new o(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...r,layer:this}),i=!!r&&!!r.messages&&!!r.messages.filter((e=>e instanceof o&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&i?null:t}beforeSave(){}};return e([r({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([r({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([i(\"listMode\")],y.prototype,\"writeListMode\",null),e([r({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([i(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([r(n)],y.prototype,\"opacity\",void 0),e([r({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([i(\"title\")],y.prototype,\"writeTitle\",null),e([r({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{assumeNonNull as s}from\"../maybe.js\";import{OriginIdNum as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e),this._values=new Map}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,t(s),0)}));for(let r=2;r<e;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,t(e),r)}))}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||s(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return!1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{assumeNonNull as t}from\"./maybe.js\";import{getProperties as e}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{idToName as o,nameToId as i}from\"./accessorSupport/PropertyOrigin.js\";import n from\"./Accessor.js\";import{read as c}from\"./accessorSupport/read.js\";import p from\"./accessorSupport/MultiOriginStore.js\";const a=n=>{let a=class extends n{constructor(...r){super(...r);const s=t(e(this)),o=s.metadatas,i=s.store,n=new p;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0)}))}read(r,t){c(this,r,t)}getAtOrigin(r,t){const e=u(this),s=i(t);if(\"string\"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),o=i(t),n=e(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r)}))}};return a=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],a),a};function u(r){return e(r).store}let f=class extends(a(n)){};f=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{getProperties as t}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{nameToId as e,OriginIdNum as o}from\"./accessorSupport/PropertyOrigin.js\";import i from\"./Accessor.js\";import{write as c}from\"./accessorSupport/write.js\";import{ReadOnlyMultiOriginJSONMixin as n}from\"./ReadOnlyMultiOriginJSONSupport.js\";const p=i=>{let n=class extends i{constructor(...r){super(...r)}clear(r,t=\"user\"){return u(this).delete(r,e(t))}write(r={},t){return c(this,r=r||{},t),r}setAtOrigin(r,s,o){t(this).setAtOrigin(r,s,e(o))}removeOrigin(r){const t=u(this),s=e(r),o=t.keys(s);for(const r of o)t.originOf(r)===s&&t.set(r,t.get(r,s),6)}updateOrigin(r,t){const s=u(this),i=e(t),c=this.get(r);for(let t=i+1;t<o;++t)s.delete(r,t);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return n=r([s(\"esri.core.WriteableMultiOriginJSONSupport\")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function u(r){return t(r).store}const l=t=>{let e=class extends(p(n(t))){constructor(...r){super(...r)}};return e=r([s(\"esri.core.MultiOriginJSONSupport\")],e),e};let O=class extends(l(i)){};O=r([s(\"esri.core.MultiOriginJSONSupport\")],O);export{l as MultiOriginJSONMixin,O as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}const e=function(){const n=Object.keys(t);return n.sort(),n}();export{r as getMetersPerUnit,e as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){return this._isOverridden(\"mode\")?this._get(\"mode\"):r(this.offset)||this.featureExpressionInfo?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,dependsOn:[\"offset\",\"featureExpressionInfo\"],nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n"],"sourceRoot":""}