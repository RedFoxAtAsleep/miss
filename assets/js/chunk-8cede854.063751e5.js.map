{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack:///./node_modules/@arcgis/core/layers/support/commonProperties.js","webpack:///./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","webpack:///./node_modules/@arcgis/core/layers/support/fieldProperties.js","webpack:///./node_modules/@arcgis/core/layers/mixins/ArcGISService.js","webpack:///./node_modules/@arcgis/core/layers/pointCloudFilters/PointCloudFilter.js","webpack:///./node_modules/@arcgis/core/layers/pointCloudFilters/PointCloudBitfieldFilter.js","webpack:///./node_modules/@arcgis/core/layers/pointCloudFilters/PointCloudReturnFilter.js","webpack:///./node_modules/@arcgis/core/layers/pointCloudFilters/PointCloudValueFilter.js","webpack:///./node_modules/@arcgis/core/layers/pointCloudFilters/typeUtils.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudRGBRenderer.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/typeUtils.js","webpack:///./node_modules/@arcgis/core/layers/PointCloudLayer.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/ColorClassBreakInfo.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudClassBreaksRenderer.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/StopInfo.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudStretchRenderer.js","webpack:///./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/ColorModulation.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeAlgorithm.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/PointSizeSplatAlgorithm.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudRenderer.js","webpack:///./node_modules/@arcgis/core/layers/support/FieldsIndex.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","webpack:///./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/SceneService.js","webpack:///./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack:///./node_modules/@arcgis/core/renderers/support/pointCloud/ColorUniqueValueInfo.js","webpack:///./node_modules/@arcgis/core/renderers/PointCloudUniqueValueRenderer.js","webpack:///./node_modules/@arcgis/core/layers/mixins/operationalLayers.js","webpack:///./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","webpack:///./node_modules/@arcgis/core/renderers/support/LegendOptions.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","webpack:///./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","webpack:///./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","webpack:///./node_modules/@arcgis/core/portal/support/resourceUtils.js","webpack:///./node_modules/@arcgis/core/support/popupUtils.js","webpack:///./node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","webpack:///./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","webpack:///./node_modules/@arcgis/core/symbols/support/ElevationInfo.js"],"names":["n","getLogger","d","r","super","arguments","this","resourceReferences","portalItem","paths","t","destroy","_get","removeOrigin","_set","e","itemId","id","portal","load","instance","supportedTypes","validateItem","supportsData","warn","title","layer","read","o","getDefault","restUrl","messages","push","write","type","prototype","String","s","Boolean","value","json","origins","source","i","screenSizePerspective","originOf","store","set","ignoreOrigin","target","a","name","reader","disablePopup","enabled","l","p","isRequired","writer","c","service","f","readOnly","u","Number","default","y","opacity","origin","drawingInfo","transparency","layerDefinition","m","dependsOn","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","timeOffset","offset","unit","equals","fields","outFields","_userOutFields","notifyChange","get","length","includes","error","url","declaredClass","field","console","nonNullable","requiredClearBits","requiredSetBits","pointCloudBitfieldFilter","includedReturns","pointCloudReturnFilter","mode","values","pointCloudValueFilter","key","base","typeMap","bitfield","return","cloneProperties","pointCloudRGBRenderer","errorContext","O","N","R","operationalLayerType","popupEnabled","popupTemplate","filters","path","legendEnabled","renderer","attributeStorageInfo","createPopupTemplate","fieldsIndex","domain","Array","isArray","map","_validateElevationInfo","signal","loadFromPortal","then","_fetchService","addResolvingPromise","formatPopupTemplateReturnsField","formatPopupTemplateRGBField","fieldInfos","find","fieldName","alias","expression","expressionInfos","parsedUrl","query","responseType","data","_debouncedSaveOperations","getTypeKeywords","_getTypeKeywords","portalItemLayerType","layerType","isNaN","version","major","minor","serviceVersion","versionString","supportedVersions","some","elevationInfo","featureExpressionInfo","types","_","description","label","minValue","maxValue","color","legendOptions","fieldTransformType","colorClassBreakInfos","pointCloudClassBreaksRenderer","fieldTransformTypeKebabDict","apiValues","jsonValues","stops","pointCloudStretchRenderer","minScale","maxScale","pointCloudFixedSizeAlgorithm","pointCloudSplatAlgorithm","size","useRealWorldSymbolSizes","scaleFactor","splat","pointCloudUniqueValueRenderer","pointSizeAlgorithm","colorModulation","pointsPerInch","none","lowFourBit","highFourBit","absoluteValue","moduloTen","toLowerCase","trim","_fieldsMap","Map","_dateFieldsSet","Set","dateFields","add","sort","uid","join","clear","has","writtenProperties","forEach","newOrigin","oldOrigin","updateOrigin","propName","async","resources","h","toKeep","resource","delete","toUpdate","content","finish","toAdd","resourceFromPath","removeResource","catch","filter","errors","addResource","ok","update","T","spatialReference","fullExtent","heightModelInfo","NaN","copyright","sublayerTitleMode","layerId","_save","_saveAs","_readSpatialReference","fromJSON","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","extent","U","xmin","ymin","xmax","ymax","toString","split","_updateExtentFromRootPage","_fetchRootPage","_updateExtentFromRootNode","_fetchRootNode","Math","floor","rootIndex","nodesPerPage","nodes","obb","center","halfSize","sqrt","zmin","zmax","hasZ","mbs","rootNode","test","_fetchFirstLayerId","_fetchServiceLayer","layers","ssl","replace","validateLayer","beforeSave","typeKeywords","indexOf","A","from","clone","_ensureLoadBeforeSave","P","blockedRelativeUrls","pendingOperations","_validateAgainstJSONSchema","_updateTypeKeywords","_signIn","user","addItem","item","folder","itemUrl","message","details","validationOptions","ignoreUnsupported","E","validate","failPolicy","concat","combined","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","colorUniqueValueInfos","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BuildingSceneLayer","GroupLayer","IntegratedMeshLayer","PointCloudLayer","WebTiledLayer","CSV","VectorTileLayer","WMS","KML","RasterDataLayer","OpenStreetMap","RasterDataElevationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","WFS","SubtypeGroupLayer","layerContainerType","allowNull","_propertyOriginMap","_originStores","_values","keys","metadatas","Object","internalGet","originIdOf","propertyInvalidated","revert","propertyCommitted","setAtOrigin","toJSON","isDefaultToJSON","start","num","sortOrder","sortField","_request","total","nextStart","created","Date","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","slice","Blob","displayField","editFieldsInfo","objectIdField","F","titleBase","visibleFieldNames","w","toLocaleLowerCase","localeCompare","creationDateField","creatorField","editDateField","editorField","editable","ignoreFieldTypes","C","isEditable","format","b","visible","digitSeparator","places","dateFormat","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","featureExpression","_isOverridden","_override","x"],"mappings":"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","file":"assets/js/chunk-8cede854.063751e5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l}from\"../../core/promiseUtils.js\";import m from\"../../portal/Portal.js\";import c from\"../../portal/PortalItem.js\";const n=r.getLogger(\"esri.layers.mixins.PortalLayer\"),d=r=>{let d=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new c({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(t){throw n.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${t}`),t}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:c})],d.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],d.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],d.prototype,\"writePortalItem\",null),t([e()],d.prototype,\"resourceReferences\",void 0),d=t([s(\"esri.layers.mixins.PortalLayer\")],d),d};export{d as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as r}from\"../../core/accessorSupport/write.js\";import{transparencyToOpacity as n}from\"../../webdoc/support/opacityUtils.js\";import t from\"../../TimeExtent.js\";import o from\"../../symbols/support/ElevationInfo.js\";const s={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(i,r){if(null!=r.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return r.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,i,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||r(this,\"screenSizePerspectiveEnabled\",{},t))&&(i[n]=e)}}}}}},a={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,i)=>!i.disablePopup},write:{enabled:!0,writer(e,i,r){i[r]=!e}}}},l={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},p={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},c={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:o,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},y={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,i,r)=>r&&\"service\"!==r.origin||!i.drawingInfo||void 0===i.drawingInfo.transparency?i.layerDefinition&&i.layerDefinition.drawingInfo&&void 0!==i.layerDefinition.drawingInfo.transparency?n(i.layerDefinition.drawingInfo.transparency):void 0:n(i.drawingInfo.transparency)}}},m={type:t,dependsOn:[\"view.timeExtent\",\"layer.timeExtent\",\"layer.timeInfo\",\"layer.timeOffset\",\"layer.timeOffset.value\",\"layer.timeOffset.unit\",\"layer.useViewTime\"],readOnly:!0,get(){var e,i;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(i=this.view)?void 0:i.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,s=o?t.offset(-o.value,o.unit):t,a=this._get(\"timeExtent\");return s.equals(a)?a:s}};export{m as combinedViewLayerTimeExtentProperty,d as elevationInfo,l as labelsVisible,c as legendEnabled,u as opacity,y as opacityDrawingInfo,a as popupEnabled,f as readOnlyService,s as screenSizePerspectiveEnabled,p as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";import{hasField as i,fixFields as t}from\"./fieldUtils.js\";import r from\"./Field.js\";const s=e.getLogger(\"esri.layers.support.fieldProperties\");function l(){return{fields:{type:[r],value:null},outFields:{type:[String],dependsOn:[\"fields\"],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange(\"outFields\")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes(\"*\"))return[\"*\"];if(!this.fields)return e;for(const t of e){i(this.fields,t)||s.error(\"field-attributes-layer:invalid-field\",`Invalid field ${t} found in outFields`,{layer:this,outFields:e})}return t(this.fields,e)}}}}export{l as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import e from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{parse as i,sanitizeUrl as l}from\"../support/arcgisLayerUrl.js\";const p=p=>{let c=class extends p{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(r(t)&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",l(t,e.getLogger(this.declaredClass)))}};return t([s({dependsOn:[\"url\"]})],c.prototype,\"title\",null),t([s({type:String})],c.prototype,\"url\",null),c=t([o(\"esri.layers.mixins.ArcGISService\")],c),c};export{p as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";let t=class extends s{constructor(r){super(r),this.field=null,this.type=null}clone(){return console.warn(\".clone() is not implemented for \"+this.declaredClass),null}};r([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],t.prototype,\"field\",void 0),r([o({readOnly:!0,nonNullable:!0,json:{read:!1}})],t.prototype,\"type\",void 0),t=r([e(\"esri.layers.pointCloudFilters.PointCloudFilter\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as e}from\"../../core/lang.js\";import\"../../core/Logger.js\";import{Integer as t}from\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import l from\"./PointCloudFilter.js\";var p;let d=p=class extends l{constructor(r){super(r),this.requiredClearBits=null,this.requiredSetBits=null,this.type=\"bitfield\"}clone(){return new p({field:this.field,requiredClearBits:e(this.requiredClearBits),requiredSetBits:e(this.requiredSetBits)})}};r([i({type:[t],json:{write:{enabled:!0,overridePolicy(){return{enabled:!0,isRequired:!this.requiredSetBits}}}}})],d.prototype,\"requiredClearBits\",void 0),r([i({type:[t],json:{write:{enabled:!0,overridePolicy(){return{enabled:!0,isRequired:!this.requiredClearBits}}}}})],d.prototype,\"requiredSetBits\",void 0),r([o({pointCloudBitfieldFilter:\"bitfield\"})],d.prototype,\"type\",void 0),d=p=r([s(\"esri.layers.pointCloudFilters.PointCloudBitfieldFilter\")],d);var u=d;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as e}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"./PointCloudFilter.js\";var p;let u=p=class extends i{constructor(r){super(r),this.includedReturns=[],this.type=\"return\"}clone(){return new p({field:this.field,includedReturns:e(this.includedReturns)})}};r([o({type:[[\"firstOfMany\",\"last\",\"lastOfMany\",\"single\"]],json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,\"includedReturns\",void 0),r([t({pointCloudReturnFilter:\"return\"})],u.prototype,\"type\",void 0),u=p=r([s(\"esri.layers.pointCloudFilters.PointCloudReturnFilter\")],u);var n=u;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as o}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"./PointCloudFilter.js\";var p;let u=p=class extends i{constructor(e){super(e),this.mode=\"exclude\",this.type=\"value\",this.values=[]}clone(){return new p({field:this.field,mode:this.mode,values:o(this.values)})}};e([r({type:[\"exclude\",\"include\"],json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,\"mode\",void 0),e([t({pointCloudValueFilter:\"value\"})],u.prototype,\"type\",void 0),e([r({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,\"values\",void 0),u=p=e([s(\"esri.layers.pointCloudFilters.PointCloudValueFilter\")],u);var l=u;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"./PointCloudFilter.js\";import o from\"./PointCloudBitfieldFilter.js\";import i from\"./PointCloudReturnFilter.js\";import r from\"./PointCloudValueFilter.js\";const e={key:\"type\",base:t,typeMap:{value:r,bitfield:o,return:i}};export{e as types};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as o}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import p from\"./PointCloudRenderer.js\";var i;let c=i=class extends p{constructor(r){super(r),this.type=\"point-cloud-rgb\",this.field=null}clone(){return new i({...this.cloneProperties(),field:o(this.field)})}};r([t({pointCloudRGBRenderer:\"point-cloud-rgb\"})],c.prototype,\"type\",void 0),r([e({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),c=i=r([s(\"esri.renderers.PointCloudRGBRenderer\")],c);var n=c;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../PointCloudRenderer.js\";import o from\"../../PointCloudClassBreaksRenderer.js\";import r from\"../../PointCloudRGBRenderer.js\";import t from\"../../PointCloudStretchRenderer.js\";import n from\"../../PointCloudUniqueValueRenderer.js\";const i={key:\"type\",base:e,typeMap:{\"point-cloud-class-breaks\":o,\"point-cloud-rgb\":r,\"point-cloud-stretch\":t,\"point-cloud-unique-value\":n},errorContext:\"renderer\"};export{i as types};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import{setDeepValue as t}from\"../core/object.js\";import{isSome as o}from\"../core/maybe.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{reader as n}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../core/accessorSupport/decorators/writer.js\";import l from\"../core/Error.js\";import{join as d}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as u}from\"../core/promiseUtils.js\";import m from\"../popup/ExpressionInfo.js\";import f from\"../PopupTemplate.js\";import c from\"../request.js\";import y from\"./Layer.js\";import{MultiOriginJSONMixin as h}from\"../core/MultiOriginJSONSupport.js\";import{popupEnabled as g,elevationInfo as v,legendEnabled as I}from\"./support/commonProperties.js\";import{OperationalLayer as w}from\"./mixins/OperationalLayer.js\";import j from\"./support/Field.js\";import b from\"./support/FieldsIndex.js\";import{ArcGISService as S}from\"./mixins/ArcGISService.js\";import{PortalLayer as x}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as T}from\"./mixins/ScaleRangeLayer.js\";import{defineFieldProperties as P}from\"./support/fieldProperties.js\";import{createPopupTemplate as F}from\"../support/popupUtils.js\";import{SceneService as L}from\"./mixins/SceneService.js\";import{types as E}from\"./pointCloudFilters/typeUtils.js\";import{types as C}from\"../renderers/support/pointCloud/typeUtils.js\";const O=i.getLogger(\"esri.layers.PointCloudLayer\"),N=P();let R=class extends(L(S(w(x(T(h(y))))))){constructor(...e){super(...e),this.operationalLayerType=\"PointCloudLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.opacity=1,this.filters=[],this.fields=null,this.outFields=null,this.path=null,this.legendEnabled=!0,this.renderer=null,this.type=\"point-cloud\"}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}get defaultPopupTemplate(){return this.attributeStorageInfo?this.createPopupTemplate():null}get fieldsIndex(){return new b(this.fields)}getFieldDomain(e){const r=this.fieldsIndex.get(e);return r&&r.domain?r.domain:null}readServiceFields(e,t,o){return Array.isArray(e)?e.map((e=>{const t=new j;return\"FieldTypeInteger\"===e.type&&((e=r(e)).type=\"esriFieldTypeInteger\"),t.read(e,o),t})):Array.isArray(t.attributeStorageInfo)?t.attributeStorageInfo.map((e=>new j({name:e.name,type:\"ELEVATION\"===e.name?\"double\":\"integer\"}))):null}set elevationInfo(e){this._set(\"elevationInfo\",e),this._validateElevationInfo()}writeRenderer(e,r,o,i){t(\"layerDefinition.drawingInfo.renderer\",e.write(null,i),r)}load(e){const r=o(e)?e.signal:null,t=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).then((()=>this._fetchService(r)),(()=>this._fetchService(r)));return this.addResolvingPromise(t),u(this)}createPopupTemplate(e){const r=F(this,e);return this.formatPopupTemplateReturnsField(r),this.formatPopupTemplateRGBField(r),r}formatPopupTemplateReturnsField(e){const r=this.fieldsIndex.get(\"RETURNS\");if(!r)return;const t=e.fieldInfos.find((e=>e.fieldName===r.name));if(!t)return;const o=new m({name:\"pcl-returns-decoded\",title:r.alias||r.name,expression:`\\n        var returnValue = $feature.${r.name};\\n        return (returnValue % 16) + \" / \" + Floor(returnValue / 16);\\n      `});e.expressionInfos=[...e.expressionInfos||[],o],t.fieldName=\"expression/pcl-returns-decoded\"}formatPopupTemplateRGBField(e){const r=this.fieldsIndex.get(\"RGB\");if(!r)return;const t=e.fieldInfos.find((e=>e.fieldName===r.name));if(!t)return;const o=new m({name:\"pcl-rgb-decoded\",title:r.alias||r.name,expression:`\\n        var rgb = $feature.${r.name};\\n        var red = Floor(rgb / 65536, 0);\\n        var green = Floor((rgb - (red * 65536)) / 256,0);\\n        var blue = rgb - (red * 65536) - (green * 256);\\n\\n        return \"rgb(\" + red + \",\" + green + \",\" + blue + \")\";\\n      `});e.expressionInfos=[...e.expressionInfos||[],o],t.fieldName=\"expression/pcl-rgb-decoded\"}async queryCachedStatistics(e,r){if(await this.load(r),!this.attributeStorageInfo)throw new l(\"scenelayer:no-cached-statistics\",\"Cached statistics are not available for this layer\");const t=this.fieldsIndex.get(e);if(!t)throw new l(\"pointcloudlayer:field-unexisting\",`Field '${e}' does not exist on the layer`);for(const e of this.attributeStorageInfo)if(e.name===t.name){const t=d(this.parsedUrl.path,`./statistics/${e.key}`);return c(t,{query:{f:\"json\"},responseType:\"json\",signal:r?r.signal:null}).then((e=>e.data))}throw new l(\"pointcloudlayer:no-cached-statistics\",\"Cached statistics for this attribute are not available\")}async saveAs(e,r){return this._debouncedSaveOperations(1,{...r,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"point-cloud\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"point-cloud\"};return this._debouncedSaveOperations(0,e)}validateLayer(e){if(e.layerType&&\"PointCloud\"!==e.layerType)throw new l(\"pointcloudlayer:layer-type-not-supported\",\"PointCloudLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new l(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x-2.x\"});if(this.version.major>2)throw new l(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x-2.x\"})}hasCachedStatistics(e){return null!=this.attributeStorageInfo&&this.attributeStorageInfo.some((r=>r.name===e))}_getTypeKeywords(){return[\"PointCloud\"]}_validateElevationInfo(){const e=this.elevationInfo;e&&(\"absolute-height\"!==e.mode&&O.warn(\".elevationInfo=\",\"Point cloud layers only support absolute-height elevation mode\"),e.featureExpressionInfo&&\"0\"!==e.featureExpressionInfo.expression&&O.warn(\".elevationInfo=\",\"Point cloud layers do not support featureExpressionInfo\"))}};e([s({type:[\"PointCloudLayer\"]})],R.prototype,\"operationalLayerType\",void 0),e([s(g)],R.prototype,\"popupEnabled\",void 0),e([s({type:f,json:{name:\"popupInfo\",write:!0}})],R.prototype,\"popupTemplate\",void 0),e([s({readOnly:!0,json:{read:!1},dependsOn:[\"fields\",\"title\",\"attributeStorageInfo\"]})],R.prototype,\"defaultPopupTemplate\",null),e([s({readOnly:!0,json:{write:!1,read:!1,origins:{\"web-document\":{write:!1,read:!1}}}})],R.prototype,\"opacity\",void 0),e([s({type:[\"show\",\"hide\"]})],R.prototype,\"listMode\",void 0),e([s({types:[E],json:{origins:{service:{read:{source:\"filters\"}}},name:\"layerDefinition.filters\",write:!0}})],R.prototype,\"filters\",void 0),e([s({type:[j]})],R.prototype,\"fields\",void 0),e([s({readOnly:!0,dependsOn:[\"fields\"]})],R.prototype,\"fieldsIndex\",null),e([n(\"service\",\"fields\",[\"fields\",\"attributeStorageInfo\"])],R.prototype,\"readServiceFields\",null),e([s(N.outFields)],R.prototype,\"outFields\",void 0),e([s({readOnly:!0})],R.prototype,\"attributeStorageInfo\",void 0),e([s(v)],R.prototype,\"elevationInfo\",null),e([s({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],R.prototype,\"path\",void 0),e([s(I)],R.prototype,\"legendEnabled\",void 0),e([s({types:C,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:{target:{\"layerDefinition.drawingInfo.renderer\":{types:C},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}})],R.prototype,\"renderer\",void 0),e([p(\"renderer\")],R.prototype,\"writeRenderer\",null),e([s({json:{read:!1},readOnly:!0})],R.prototype,\"type\",void 0),R=e([a(\"esri.layers.PointCloudLayer\")],R);var _=R;export default _;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as o}from\"../../../core/lang.js\";import\"../../../core/Logger.js\";import{Integer as e}from\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../../core/JSONSupport.js\";import p from\"../../../Color.js\";var l;let a=l=class extends i{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new l({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:o(this.color)})}};r([t({type:String,json:{write:!0}})],a.prototype,\"description\",void 0),r([t({type:String,json:{write:!0}})],a.prototype,\"label\",void 0),r([t({type:Number,json:{read:{source:\"classMinValue\"},write:{target:\"classMinValue\"}}})],a.prototype,\"minValue\",void 0),r([t({type:Number,json:{read:{source:\"classMaxValue\"},write:{target:\"classMaxValue\"}}})],a.prototype,\"maxValue\",void 0),r([t({type:p,json:{type:[e],write:!0}})],a.prototype,\"color\",void 0),a=l=r([s(\"esri.renderers.support.pointCloud.ColorClassBreakInfo\")],a);var c=a;export default c;export{a as ColorClassBreakInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as s}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import i from\"./PointCloudRenderer.js\";import p from\"./support/LegendOptions.js\";import l from\"./support/pointCloud/ColorClassBreakInfo.js\";var n;let a=n=class extends i{constructor(o){super(o),this.type=\"point-cloud-class-breaks\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new n({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:r(this.colorClassBreakInfos),legendOptions:r(this.legendOptions)})}};o([s({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\"})],a.prototype,\"type\",void 0),o([e({json:{write:!0},type:String})],a.prototype,\"field\",void 0),o([e({type:p,json:{write:!0}})],a.prototype,\"legendOptions\",void 0),o([e({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],a.prototype,\"fieldTransformType\",void 0),o([e({type:[l],json:{write:!0}})],a.prototype,\"colorClassBreakInfos\",void 0),a=n=o([t(\"esri.renderers.PointCloudClassBreaksRenderer\")],a);var c=a;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as r}from\"../../../core/lang.js\";import\"../../../core/Logger.js\";import{Integer as e}from\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../../core/JSONSupport.js\";import l from\"../../../Color.js\";var i;let c=i=class extends p{constructor(){super(...arguments),this.label=null,this.value=0,this.color=null}clone(){return new i({label:this.label,value:this.value,color:r(this.color)})}};o([t({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),o([t({type:Number,nonNullable:!0,json:{write:!0}})],c.prototype,\"value\",void 0),o([t({type:l,json:{type:[e],write:!0}})],c.prototype,\"color\",void 0),c=i=o([s(\"esri.renderers.support.pointCloud.StopInfo\")],c);var u=c;export default u;export{c as StopInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as o}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import p from\"./PointCloudRenderer.js\";import i from\"./support/LegendOptions.js\";import n from\"./support/pointCloud/StopInfo.js\";var l;let d=l=class extends p{constructor(e){super(e),this.type=\"point-cloud-stretch\",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new l({...this.cloneProperties(),field:o(this.field),fieldTransformType:o(this.fieldTransformType),stops:o(this.stops),legendOptions:o(this.legendOptions)})}};e([t({pointCloudStretchRenderer:\"point-cloud-stretch\"})],d.prototype,\"type\",void 0),e([r({json:{write:!0},type:String})],d.prototype,\"field\",void 0),e([r({type:i,json:{write:!0}})],d.prototype,\"legendOptions\",void 0),e([r({type:p.fieldTransformTypeKebabDict.apiValues,json:{type:p.fieldTransformTypeKebabDict.jsonValues,read:p.fieldTransformTypeKebabDict.read,write:p.fieldTransformTypeKebabDict.write}})],d.prototype,\"fieldTransformType\",void 0),e([r({type:[n],json:{write:!0}})],d.prototype,\"stops\",void 0),d=l=e([s(\"esri.renderers.PointCloudStretchRenderer\")],d);var c=d;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const s=s=>{let t=class extends s{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"minScale\",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"maxScale\",void 0),e([r({readOnly:!0,dependsOn:[\"minScale\",\"maxScale\"]})],t.prototype,\"scaleRangeId\",null),t=e([o(\"esri.layers.mixins.ScaleRangeLayer\")],t),t};export{s as ScaleRangeLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";var s;let p=s=class extends t{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new s({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};r([o({type:String,json:{write:!0}})],p.prototype,\"field\",void 0),r([o({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,\"minValue\",void 0),r([o({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,\"maxValue\",void 0),p=s=r([e(\"esri.renderers.support.pointCloud.ColorModulation\")],p);var i=p;export default i;export{p as ColorModulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{JSONMap as e}from\"../../../core/jsonMap.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";const p=new e({pointCloudFixedSizeAlgorithm:\"fixed-size\",pointCloudSplatAlgorithm:\"splat\"});let i=class extends t{};o([r({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],i.prototype,\"type\",void 0),i=o([s(\"esri.renderers.support.pointCloud.PointSizeAlgorithm\")],i);var c=i;export default c;export{i as PointSizeAlgorithm,p as typeKebabDictionary};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as r}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"./PointSizeAlgorithm.js\";var i;let p=i=class extends t{constructor(){super(...arguments),this.type=\"fixed-size\",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new i({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};o([r({pointCloudFixedSizeAlgorithm:\"fixed-size\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,\"size\",void 0),o([e({type:Boolean,json:{write:!0}})],p.prototype,\"useRealWorldSymbolSizes\",void 0),p=i=o([s(\"esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm\")],p);var l=p;export default l;export{p as PointSizeFixedSizeAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"./PointSizeAlgorithm.js\";var p;let c=p=class extends s{constructor(){super(...arguments),this.type=\"splat\",this.scaleFactor=1}clone(){return new p({scaleFactor:this.scaleFactor})}};r([t({pointCloudSplatAlgorithm:\"splat\"})],c.prototype,\"type\",void 0),r([o({type:Number,value:1,nonNullable:!0,json:{write:!0}})],c.prototype,\"scaleFactor\",void 0),c=p=r([e(\"esri.renderers.support.pointCloud.PointSizeSplatAlgorithm\")],c);var i=c;export default i;export{c as PointSizeSplatAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport i from\"./PointSizeAlgorithm.js\";import t from\"./PointSizeFixedSizeAlgorithm.js\";import o from\"./PointSizeSplatAlgorithm.js\";const e={key:\"type\",base:i,typeMap:{\"fixed-size\":t,splat:o}};export{e as pointSizeAlgorithmTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as i}from\"../core/jsonMap.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{JSONSupport as n}from\"../core/JSONSupport.js\";import p from\"./support/pointCloud/ColorModulation.js\";import{pointSizeAlgorithmTypes as l}from\"./support/pointCloud/pointSizeAlgorithmTypeUtils.js\";const u=t()({pointCloudClassBreaksRenderer:\"point-cloud-class-breaks\",pointCloudRGBRenderer:\"point-cloud-rgb\",pointCloudStretchRenderer:\"point-cloud-stretch\",pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"});let c=class extends n{constructor(o){super(o),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(\".clone() is not implemented for \"+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:r(this.pointSizeAlgorithm),colorModulation:r(this.colorModulation),pointsPerInch:r(this.pointsPerInch)}}};o([e({type:u.apiValues,readOnly:!0,nonNullable:!0,json:{type:u.jsonValues,read:!1,write:u.write}})],c.prototype,\"type\",void 0),o([e({types:l,json:{write:!0}})],c.prototype,\"pointSizeAlgorithm\",void 0),o([e({type:p,json:{write:!0}})],c.prototype,\"colorModulation\",void 0),o([e({json:{write:!0},nonNullable:!0,type:Number})],c.prototype,\"pointsPerInch\",void 0),c=o([s(\"esri.renderers.PointCloudRenderer\")],c),function(o){o.fieldTransformTypeKebabDict=new i({none:\"none\",lowFourBit:\"low-four-bit\",highFourBit:\"high-four-bit\",absoluteValue:\"absolute-value\",moduloTen:\"modulo-ten\"})}(c||(c={}));var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t){return\"date\"===t.type||\"esriFieldTypeDate\"===t.type}function e(t){return t.toLowerCase().trim()}export default class{constructor(s){if(this.fields=s,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!s)return;const i=[];for(const d of s){const s=d&&d.name;if(s){const a=e(s);this._fieldsMap.set(s,d),this._fieldsMap.set(a,d),i.push(a),t(d)&&(this.dateFields.push(d),this._dateFieldsSet.add(d))}}i.sort(),this.uid=i.join(\",\")}destroy(){this._fieldsMap.clear()}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(e(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}normalizeFieldName(t){const e=this.get(t);if(e)return e.name}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as i}from\"../multiOriginJSONSupportUtils.js\";function r(r){r&&r.writtenProperties&&r.writtenProperties.forEach((r=>{const t=r.target;r.newOrigin&&r.oldOrigin!==r.newOrigin&&i(t)&&t.updateOrigin(r.propName,r.newOrigin)}))}export{r as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";import{generateUUID as e}from\"../../core/uuid.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{result as s}from\"../../core/asyncUtils.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(s,a,u){if(!a||!a.resources)return;const h=a.portalItem===s.portalItem?new Set(s.paths):new Set;s.paths.length=0,s.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((r=>{h.delete(r),s.paths.push(r)}));for(const r of a.resources.toUpdate)if(h.delete(r.resource.path),i.has(r.resource.path)||f.has(r.resource.path)){const{resource:o,content:t,finish:a,error:p}=r,h=c(o,e());s.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else s.paths.push(r.resource.path),m.push(p(r,u)),f.add(r.resource.path);for(const r of a.resources.toAdd)m.push(n(r,u)),s.paths.push(r.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(r,e){const o=await s(r.resource.portalItem.addResource(r.resource,r.content,e));if(!0!==o.ok)throw r.error&&r.error(o.error),o.error;r.finish&&r.finish(r.resource)}async function p(r,e){const o=await s(r.resource.update(r.content,e));if(!0!==o.ok)throw r.error(o.error),o.error;r.finish(r.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../core/Error.js\";import{urlToObject as l,join as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as d,reject as c,all as u}from\"../../core/promiseUtils.js\";import m from\"../../geometry/SpatialReference.js\";import y from\"../../geometry/Extent.js\";import h from\"../../request.js\";import f from\"../../portal/Portal.js\";import v from\"../../portal/PortalItem.js\";import{updateOrigins as g}from\"../../core/accessorSupport/originUtils.js\";import{titleFromUrlAndName as w,parse as S,cleanTitle as I,sanitizeUrlWithLayerId as x,writeUrlWithLayerId as b,isArcGISUrl as j}from\"../support/arcgisLayerUrl.js\";import _ from\"../../geometry/HeightModelInfo.js\";import{saveResources as R}from\"../../webdoc/support/saveUtils.js\";import{url as N}from\"../support/commonProperties.js\";const O=r.getLogger(\"esri.layers.mixins.SceneService\"),T=r=>{let T=class extends r{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this._debouncedSaveOperations=d((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new m(o):null}}readFullExtent(e,t){const r=t.store,o=this._readSpatialReference(t);return null==o||null==r||null==r.extent||!Array.isArray(r.extent)||r.extent.some((e=>e<U))?null:new y({xmin:r.extent[0],ymin:r.extent[1],xmax:r.extent[2],ymax:r.extent[3],spatialReference:o})}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\",i={major:Number.NaN,minor:Number.NaN,versionString:o},s=o.split(\".\");return s.length>=2&&(i.major=parseInt(s[0],10),i.minor=parseInt(s[1],10)),i}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,r){const o=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return w(this.url,r.name);let i=r.name;if(!i&&this.url){const e=S(this.url);t(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&o&&(i=o+\" - \"+i),I(i)}set url(e){const t=x(this,e,O);this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){b(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=l(e);return null!=this.layerId&&j(t.path)&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _verifyRootNodeAndUpdateExtent(e,t){if(e)try{return this._updateExtentFromRootPage(e,await this._fetchRootPage(e,t))}catch(e){}return this._updateExtentFromRootNode(await this._fetchRootNode(t))}async _fetchRootPage(e,t){if(!e)return c();const r=Math.floor(e.rootIndex/e.nodesPerPage),o=`${this.parsedUrl.path}/nodepages/${r}`;return(await h(o,{responseType:\"json\",signal:t})).data}_updateExtentFromRootPage(e,t){if(null==t||null==t.nodes)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");const r=t.nodes[e.rootIndex%e.nodesPerPage];if(null==r||null==r.obb||null==r.obb.center||null==r.obb.halfSize)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");if(r.obb.center[0]<U)return;const o=r.obb.halfSize,i=r.obb.center[2],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=i-s,this.fullExtent.zmax=i+s}_updateExtentFromRootNode(e){if(null==e||null==this.fullExtent||this.fullExtent.hasZ)return;if(!Array.isArray(e.mbs)||4!==e.mbs.length||e.mbs[0]<U)return;const t=e.mbs[2],r=e.mbs[3];this.fullExtent.zmin=t-r,this.fullExtent.zmax=t+r}async _fetchRootNode(e){if(!this.rootNode)return;const t=p(this.parsedUrl.path,this.rootNode);try{return(await h(t,{query:{f:\"json\"},responseType:\"json\",signal:e})).data}catch(e){throw new n(\"sceneservice:root-node-missing\",\"Root node missing.\",{error:e,url:t})}}async _fetchService(e){if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const t=await h(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e});if(t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0)return t.data.layers[0].id}async _fetchServiceLayer(e){const t=await h(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e});t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const r=t.data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const t of o)e.typeKeywords.push(t);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const r={...A,...t};let o=v.from(e);o||(O.error(\"_saveAs(): requires a portal item parameter\"),await c(new n(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const i=o.portal||f.getDefault();await this._ensureLoadBeforeSave(),o.type=P,o.portal=i;const s={origin:\"portal-item\",url:null,messages:[],portal:i,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a={layers:[this.write(null,s)]};return await u(s.resources.pendingOperations),await this._validateAgainstJSONSchema(a,s,r),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,r,1),await i._signIn(),await i.user.addItem({item:o,folder:r&&r.folder,data:a}),await R(this.resourceReferences,s,null),this.portalItem=o,g(s),s.portalItem=o,o}async _save(e){const t={...A,...e};this.portalItem||(O.error(\"_save(): requires the .portalItem property to be set\"),await c(new n(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==P&&(O.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+P),await c(new n(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${P}\"`))),await this._ensureLoadBeforeSave();const r={origin:\"portal-item\",url:this.portalItem.itemUrl&&l(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||f.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write(null,r)]};return await u(r.resources.pendingOperations),await this._validateAgainstJSONSchema(o,r,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await R(this.resourceReferences,r,null),g(r),this.portalItem}async _validateAgainstJSONSchema(e,t,r){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new n(e.name,e.message,e.details)));if(r&&r.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),r.validationOptions.enabled||E){const t=(await import(\"../support/schemaValidator.js\")).validate(e,r.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(O.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===r.validationOptions.failPolicy){const e=t.map((e=>new n(\"sceneservice:schema-validation\",e))).concat(o);throw new n(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new n(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([o({json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}})],T.prototype,\"id\",void 0),e([o({type:m})],T.prototype,\"spatialReference\",void 0),e([i(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readSpatialReference\",null),e([o({type:y})],T.prototype,\"fullExtent\",void 0),e([i(\"fullExtent\",[\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readFullExtent\",null),e([o({readOnly:!0,type:_})],T.prototype,\"heightModelInfo\",void 0),e([o({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],T.prototype,\"minScale\",void 0),e([o({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],T.prototype,\"maxScale\",void 0),e([o({readOnly:!0})],T.prototype,\"version\",void 0),e([i(\"version\",[\"store.version\"])],T.prototype,\"readVersion\",null),e([o({type:String,json:{read:{source:\"copyrightText\"}}})],T.prototype,\"copyright\",void 0),e([o({type:String,json:{read:!1}})],T.prototype,\"sublayerTitleMode\",void 0),e([o({type:String})],T.prototype,\"title\",void 0),e([i(\"portal-item\",\"title\")],T.prototype,\"readTitlePortalItem\",null),e([i(\"service\",\"title\",[\"name\"])],T.prototype,\"readTitleService\",null),e([o({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],T.prototype,\"layerId\",void 0),e([o(N)],T.prototype,\"url\",null),e([a(\"url\")],T.prototype,\"writeUrl\",null),e([o({dependsOn:[\"layerId\"]})],T.prototype,\"parsedUrl\",null),e([o({readOnly:!0})],T.prototype,\"store\",void 0),e([o({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],T.prototype,\"rootNode\",void 0),T=e([s(\"esri.layers.mixins.SceneService\")],T),T},U=-1e38,E=!1,P=\"Scene Service\",A={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{P as SCENE_SERVICE_ITEM_TYPE,T as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as r}from\"../../../core/lang.js\";import\"../../../core/Logger.js\";import{Integer as t}from\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../../core/JSONSupport.js\";import i from\"../../../Color.js\";var l;let c=l=class extends p{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new l({description:this.description,label:this.label,values:r(this.values),color:r(this.color)})}};o([e({type:String,json:{write:!0}})],c.prototype,\"description\",void 0),o([e({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),o([e({type:[String],json:{write:!0}})],c.prototype,\"values\",void 0),o([e({type:i,json:{type:[t],write:!0}})],c.prototype,\"color\",void 0),c=l=o([s(\"esri.renderers.support.pointCloud.ColorUniqueValueInfo\")],c);var n=c;export default n;export{c as ColorUniqueValueInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as o}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import i from\"./PointCloudRenderer.js\";import p from\"./support/LegendOptions.js\";import n from\"./support/pointCloud/ColorUniqueValueInfo.js\";var l;let u=l=class extends i{constructor(e){super(e),this.type=\"point-cloud-unique-value\",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new l({...this.cloneProperties(),field:o(this.field),fieldTransformType:o(this.fieldTransformType),colorUniqueValueInfos:o(this.colorUniqueValueInfos),legendOptions:o(this.legendOptions)})}};e([t({pointCloudUniqueValueRenderer:\"point-cloud-unique-value\"})],u.prototype,\"type\",void 0),e([r({json:{write:!0},type:String})],u.prototype,\"field\",void 0),e([r({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],u.prototype,\"fieldTransformType\",void 0),e([r({type:[n],json:{write:!0}})],u.prototype,\"colorUniqueValueInfos\",void 0),e([r({type:p,json:{write:!0}})],u.prototype,\"legendOptions\",void 0),u=l=e([s(\"esri.renderers.PointCloudUniqueValueRenderer\")],u);var a=u;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e={\"web-scene/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},\"web-scene/basemap\":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-map/operational-layers\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-map/basemap\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},\"web-map/tables\":{ArcGISFeatureLayer:!0},\"portal-item/operational-layers\":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};export{e as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as p}from\"../../core/accessorSupport/write.js\";import{supportedTypes as a}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&p(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){!e||i&&\"tables\"===i.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,r){if(r&&r.origin){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`,t=a[e];let i=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(i=!1),!i)return r.messages&&r.messages.push(new o(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...r,layer:this}),i=!!r&&!!r.messages&&!!r.messages.filter((e=>e instanceof o&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&i?null:t}beforeSave(){}};return e([r({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([r({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([i(\"listMode\")],y.prototype,\"writeListMode\",null),e([r({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([i(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([r(n)],y.prototype,\"opacity\",void 0),e([r({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([i(\"title\")],y.prototype,\"writeTitle\",null),e([r({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.title=null}clone(){return new s({title:this.title})}};r([o({type:String,json:{write:!0}})],p.prototype,\"title\",void 0),p=s=r([t(\"esri.renderers.support.LegendOptions\")],p);var i=p;export default i;export{p as LegendOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{assumeNonNull as s}from\"../maybe.js\";import{OriginIdNum as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e),this._values=new Map}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,t(s),0)}));for(let r=2;r<e;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,t(e),r)}))}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||s(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return!1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{assumeNonNull as t}from\"./maybe.js\";import{getProperties as e}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{idToName as o,nameToId as i}from\"./accessorSupport/PropertyOrigin.js\";import n from\"./Accessor.js\";import{read as c}from\"./accessorSupport/read.js\";import p from\"./accessorSupport/MultiOriginStore.js\";const a=n=>{let a=class extends n{constructor(...r){super(...r);const s=t(e(this)),o=s.metadatas,i=s.store,n=new p;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0)}))}read(r,t){c(this,r,t)}getAtOrigin(r,t){const e=u(this),s=i(t);if(\"string\"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),o=i(t),n=e(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r)}))}};return a=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],a),a};function u(r){return e(r).store}let f=class extends(a(n)){};f=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{getProperties as t}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{nameToId as e,OriginIdNum as o}from\"./accessorSupport/PropertyOrigin.js\";import i from\"./Accessor.js\";import{write as c}from\"./accessorSupport/write.js\";import{ReadOnlyMultiOriginJSONMixin as n}from\"./ReadOnlyMultiOriginJSONSupport.js\";const p=i=>{let n=class extends i{constructor(...r){super(...r)}clear(r,t=\"user\"){return u(this).delete(r,e(t))}write(r={},t){return c(this,r=r||{},t),r}setAtOrigin(r,s,o){t(this).setAtOrigin(r,s,e(o))}removeOrigin(r){const t=u(this),s=e(r),o=t.keys(s);for(const r of o)t.originOf(r)===s&&t.set(r,t.get(r,s),6)}updateOrigin(r,t){const s=u(this),i=e(t),c=this.get(r);for(let t=i+1;t<o;++t)s.delete(r,t);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return n=r([s(\"esri.core.WriteableMultiOriginJSONSupport\")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function u(r){return t(r).store}const l=t=>{let e=class extends(p(n(t))){constructor(...r){super(...r)}};return e=r([s(\"esri.core.MultiOriginJSONSupport\")],e),e};let O=class extends(l(i)){};O=r([s(\"esri.core.MultiOriginJSONSupport\")],O);export{l as MultiOriginJSONMixin,O as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{join as o,getPathExtension as s}from\"../../core/urlUtils.js\";import n from\"../../request.js\";async function u(t,r={},a){await t.load(a);const s=o(t.itemUrl,\"resources\"),{start:n=1,num:u=10,sortOrder:c=\"asc\",sortField:i=\"created\"}=r,l={query:{start:n,num:u,sortOrder:c,sortField:i},signal:e(a,\"signal\")},p=await t.portal._request(s,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:e,size:r,resource:a})=>({created:new Date(e),size:r,resource:t.resourceFromPath(a)})))}}async function c(r,s,n,u){if(!r.hasPath())throw new a(`portal-item-resource-${s}:invalid-path`,\"Resource does not have a valid path\");await r.portalItem.load(u);const c=o(r.portalItem.userItemUrl,\"add\"===s?\"addResources\":\"updateResources\"),[i,l]=p(r.path),m=await d(n),h=new FormData;return i&&\".\"!==i&&h.append(\"resourcesPrefix\",i),h.append(\"fileName\",l),h.append(\"file\",m,l),h.append(\"f\",\"json\"),t(u)&&u.access&&h.append(\"access\",u.access),await r.portalItem.portal._request(c,{method:\"post\",body:h,signal:e(u,\"signal\")}),r}async function i(t,r,s){if(!r.hasPath())throw new a(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await t.load(s);const n=o(t.userItemUrl,\"removeResources\");await t.portal._request(n,{method:\"post\",query:{resource:r.path},signal:e(s,\"signal\")}),r.portalItem=null}async function l(t,r){await t.load(r);const a=o(t.userItemUrl,\"removeResources\");return t.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:e(r,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){const[t,a]=function(e){const t=s(e);if(r(t))return[e,\"\"];return[e.slice(0,e.length-t.length-1),`.${t}`]}(e),[o,n]=p(t);return[o,n,a]}async function d(e){if(e instanceof Blob)return e;return(await n(e.url,{responseType:\"blob\"})).data}function h(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}function f(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}export{c as addOrUpdateResource,d as contentToBlob,u as fetchResources,h as getSiblingOfSameType,f as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,m as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getDisplayFieldName as e}from\"../layers/support/fieldUtils.js\";import\"../popup/content/Content.js\";import t from\"../popup/content/AttachmentsContent.js\";import\"../popup/content/CustomContent.js\";import i from\"../popup/support/FieldInfoFormat.js\";import o from\"../popup/FieldInfo.js\";import n from\"../popup/content/FieldsContent.js\";import\"../popup/content/MediaContent.js\";import\"../popup/content/TextContent.js\";import l from\"../PopupTemplate.js\";const r=[\"oid\",\"global-id\"],s=[\"oid\",\"global-id\",\"guid\"];function a({displayField:i,editFieldsInfo:o,fields:r,objectIdField:s,title:a},d){if(!r)return null;const p=F({editFieldsInfo:o,fields:r,objectIdField:s},d);if(!p.length)return null;const u=function(t){const i=e(t),{titleBase:o}=t;return i?`${o}: {${i.trim()}}`:o}({titleBase:a,fields:r,displayField:i}),c=[new n,new t];return new l({title:u,content:c,fieldInfos:p})}const d=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],p=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:o})=>o?o.has(e.name):!c(e.name,t)&&((!i||e.name!==i)&&(!(r.indexOf(e.type)>-1)&&!d.some((t=>t.test(e.name)))));function u(e,t){return\"oid\"===e.type?-1:\"oid\"===t.type?1:w(e)?-1:w(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function c(e,t){if(!e||!t)return!1;const{creationDateField:i,creatorField:o,editDateField:n,editorField:l}=t;return-1!==[i&&i.toLowerCase(),o&&o.toLowerCase(),n&&n.toLowerCase(),l&&l.toLowerCase()].indexOf(e.toLowerCase())}function m(e,t){return e.editable&&-1===s.indexOf(e.type)&&!c(e.name,t)}function f(e,t){return new n({fieldInfos:F(e,t).filter((e=>e.visible))})}function F({editFieldsInfo:e,fields:t,objectIdField:i},n){return function(e,t){const i=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===i&&(e=e.slice()),e.sort(u),e}(t,(null==n?void 0:n.ignoreFieldTypes)||C).map((t=>new o({fieldName:t.name,isEditable:m(t,e),label:t.alias,format:b(t),visible:p(t,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:null==n?void 0:n.visibleFieldNames})})))}function b(e){switch(e.type){case\"small-integer\":case\"integer\":case\"single\":return new i({digitSeparator:!0,places:0});case\"double\":return new i({digitSeparator:!0,places:2});case\"date\":return new i({dateFormat:\"long-month-day-year\"});default:return null}}function w(e){if(\"name\"===(e.name&&e.name.toLowerCase()))return!0;return\"name\"===(e.alias&&e.alias.toLowerCase())||void 0}const C=[\"geometry\",\"blob\",\"raster\",\"guid\",\"xml\"];export{F as createFieldInfos,f as createFieldsContent,a as createPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}const e=function(){const n=Object.keys(t);return n.sort(),n}();export{r as getMetersPerUnit,e as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){return this._isOverridden(\"mode\")?this._get(\"mode\"):r(this.offset)||this.featureExpressionInfo?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,dependsOn:[\"offset\",\"featureExpressionInfo\"],nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n"],"sourceRoot":""}