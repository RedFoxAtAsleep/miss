{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack:///./node_modules/@arcgis/core/layers/support/commonProperties.js","webpack:///./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/ArcGISService.js","webpack:///./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js","webpack:///./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","webpack:///./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/SceneService.js","webpack:///./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack:///./node_modules/@arcgis/core/layers/mixins/operationalLayers.js","webpack:///./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","webpack:///./node_modules/@arcgis/core/layers/support/SceneModification.js","webpack:///./node_modules/@arcgis/core/layers/support/SceneModifications.js","webpack:///./node_modules/@arcgis/core/layers/IntegratedMeshLayer.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","webpack:///./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","webpack:///./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","webpack:///./node_modules/@arcgis/core/portal/support/resourceUtils.js","webpack:///./node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","webpack:///./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","webpack:///./node_modules/@arcgis/core/symbols/support/ElevationInfo.js"],"names":["n","getLogger","d","r","super","arguments","this","resourceReferences","portalItem","paths","t","destroy","_get","removeOrigin","_set","e","itemId","id","portal","load","instance","supportedTypes","validateItem","supportsData","warn","title","layer","read","o","getDefault","restUrl","messages","push","write","type","prototype","String","s","Boolean","value","json","origins","source","i","screenSizePerspective","originOf","store","set","ignoreOrigin","target","a","name","reader","disablePopup","enabled","l","p","isRequired","writer","c","service","f","readOnly","u","Number","default","y","opacity","origin","drawingInfo","transparency","layerDefinition","m","dependsOn","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","timeOffset","offset","unit","equals","url","declaredClass","minScale","maxScale","nonNullable","nodesPerPage","rootIndex","lodSelectionMetricType","factor","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","opaque","mask","blend","none","back","front","index","jpg","png","dds","atlas","Float32","UInt64","UInt32","UInt16","UInt8","draco","triangle","writtenProperties","forEach","newOrigin","oldOrigin","updateOrigin","propName","async","resources","h","Set","length","toKeep","map","resource","path","delete","toUpdate","has","content","finish","error","add","toAdd","resourceFromPath","removeResource","catch","filter","errors","addResource","ok","update","O","T","spatialReference","fullExtent","heightModelInfo","version","major","NaN","minor","versionString","copyright","sublayerTitleMode","layerId","_debouncedSaveOperations","_save","_saveAs","_readSpatialReference","fromJSON","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","extent","Array","isArray","some","U","xmin","ymin","xmax","ymax","toString","split","_updateExtentFromRootPage","_fetchRootPage","_updateExtentFromRootNode","_fetchRootNode","Math","floor","parsedUrl","responseType","signal","data","nodes","obb","center","halfSize","sqrt","zmin","zmax","hasZ","mbs","rootNode","query","test","_fetchFirstLayerId","_fetchServiceLayer","layers","ssl","replace","validateLayer","beforeSave","typeKeywords","getTypeKeywords","indexOf","A","from","clone","_ensureLoadBeforeSave","P","blockedRelativeUrls","pendingOperations","_validateAgainstJSONSchema","_updateTypeKeywords","_signIn","user","addItem","item","folder","itemUrl","message","details","validationOptions","ignoreUnsupported","E","validate","portalItemLayerType","join","failPolicy","concat","combined","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BuildingSceneLayer","GroupLayer","IntegratedMeshLayer","PointCloudLayer","WebTiledLayer","CSV","VectorTileLayer","WMS","KML","RasterDataLayer","OpenStreetMap","RasterDataElevationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","WFS","SubtypeGroupLayer","layerContainerType","layerType","operationalLayerType","allowNull","g","j","verifyItemRelativeUrls","writtenUrls","rootPath","I","originIdOf","w","v","then","itemRelativeUrl","Blob","JSON","stringify","toJSON","geometry","modification","context","ofType","toArray","items","_readModifications","x","handles","geometryType","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","serviceUpdateTimeStamp","profile","modifications","_modificationsSource","elevationInfo","addResolvingPromise","_doLoad","loadFromPortal","_fetchService","fromUrl","setAtOrigin","_verifyRootNodeAndUpdateExtent","_getTypeKeywords","isNaN","serviceVersion","supportedVersions","prefix","_propertyOriginMap","Map","_originStores","_values","get","keys","metadatas","Object","internalGet","propertyInvalidated","revert","propertyCommitted","isDefaultToJSON","start","num","sortOrder","sortField","_request","total","nextStart","created","size","Date","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","slice","expression","sort","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","featureExpression","_isOverridden","featureExpressionInfo","_override","mode","apiValues","jsonValues"],"mappings":"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","file":"assets/js/chunk-111d6a80.8acd237e.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l}from\"../../core/promiseUtils.js\";import m from\"../../portal/Portal.js\";import c from\"../../portal/PortalItem.js\";const n=r.getLogger(\"esri.layers.mixins.PortalLayer\"),d=r=>{let d=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new c({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(t){throw n.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${t}`),t}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:c})],d.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],d.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],d.prototype,\"writePortalItem\",null),t([e()],d.prototype,\"resourceReferences\",void 0),d=t([s(\"esri.layers.mixins.PortalLayer\")],d),d};export{d as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as r}from\"../../core/accessorSupport/write.js\";import{transparencyToOpacity as n}from\"../../webdoc/support/opacityUtils.js\";import t from\"../../TimeExtent.js\";import o from\"../../symbols/support/ElevationInfo.js\";const s={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(i,r){if(null!=r.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return r.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,i,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||r(this,\"screenSizePerspectiveEnabled\",{},t))&&(i[n]=e)}}}}}},a={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,i)=>!i.disablePopup},write:{enabled:!0,writer(e,i,r){i[r]=!e}}}},l={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},p={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},c={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:o,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},y={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,i,r)=>r&&\"service\"!==r.origin||!i.drawingInfo||void 0===i.drawingInfo.transparency?i.layerDefinition&&i.layerDefinition.drawingInfo&&void 0!==i.layerDefinition.drawingInfo.transparency?n(i.layerDefinition.drawingInfo.transparency):void 0:n(i.drawingInfo.transparency)}}},m={type:t,dependsOn:[\"view.timeExtent\",\"layer.timeExtent\",\"layer.timeInfo\",\"layer.timeOffset\",\"layer.timeOffset.value\",\"layer.timeOffset.unit\",\"layer.useViewTime\"],readOnly:!0,get(){var e,i;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(i=this.view)?void 0:i.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,s=o?t.offset(-o.value,o.unit):t,a=this._get(\"timeExtent\");return s.equals(a)?a:s}};export{m as combinedViewLayerTimeExtentProperty,d as elevationInfo,l as labelsVisible,c as legendEnabled,u as opacity,y as opacityDrawingInfo,a as popupEnabled,f as readOnlyService,s as screenSizePerspectiveEnabled,p as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import e from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{parse as i,sanitizeUrl as l}from\"../support/arcgisLayerUrl.js\";const p=p=>{let c=class extends p{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(r(t)&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",l(t,e.getLogger(this.declaredClass)))}};return t([s({dependsOn:[\"url\"]})],c.prototype,\"title\",null),t([s({type:String})],c.prototype,\"url\",null),c=t([o(\"esri.layers.mixins.ArcGISService\")],c),c};export{p as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const s=s=>{let t=class extends s{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"minScale\",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"maxScale\",void 0),e([r({readOnly:!0,dependsOn:[\"minScale\",\"maxScale\"]})],t.prototype,\"scaleRangeId\",null),t=e([o(\"esri.layers.mixins.ScaleRangeLayer\")],t),t};export{s as ScaleRangeLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";let s=class extends p{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([t({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([t({type:Number})],s.prototype,\"rootIndex\",void 0),e([t({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([r(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends p{constructor(){super(...arguments),this.factor=1}};e([t({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([t({type:Number})],i.prototype,\"factor\",void 0),i=e([r(\"esri.layer.support.I3SMaterialTexture\")],i);let l=class extends p{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([t({type:[Number]})],l.prototype,\"baseColorFactor\",void 0),e([t({type:i})],l.prototype,\"baseColorTexture\",void 0),e([t({type:i})],l.prototype,\"metallicRoughnessTexture\",void 0),e([t({type:Number})],l.prototype,\"metallicFactor\",void 0),e([t({type:Number})],l.prototype,\"roughnessFactor\",void 0),l=e([r(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],l);let a=class extends p{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([o({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],a.prototype,\"alphaMode\",void 0),e([t({type:Number})],a.prototype,\"alphaCutoff\",void 0),e([t({type:Boolean})],a.prototype,\"doubleSided\",void 0),e([o({none:\"none\",back:\"back\",front:\"front\"})],a.prototype,\"cullFace\",void 0),e([t({type:i})],a.prototype,\"normalTexture\",void 0),e([t({type:i})],a.prototype,\"occlusionTexture\",void 0),e([t({type:i})],a.prototype,\"emissiveTexture\",void 0),e([t({type:[Number]})],a.prototype,\"emissiveFactor\",void 0),e([t({type:l})],a.prototype,\"pbrMetallicRoughness\",void 0),a=e([r(\"esri.layer.support.I3SMaterialDefinition\")],a);let n=class extends p{};e([t({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([o({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\"})],n.prototype,\"format\",void 0),n=e([r(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends p{constructor(){super(...arguments),this.atlas=!1}};e([t({type:[n]})],u.prototype,\"formats\",void 0),e([t({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([r(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends p{};e([o({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([t({type:Number})],y.prototype,\"component\",void 0),y=e([r(\"esri.layer.support.I3SGeometryAttribute\")],y);let c=class extends p{};e([o({draco:\"draco\"})],c.prototype,\"encoding\",void 0),e([t({type:[String]})],c.prototype,\"attributes\",void 0),c=e([r(\"esri.layer.support.I3SGeometryCompressedAttributes\")],c);let d=class extends p{constructor(){super(...arguments),this.offset=0}};e([t({type:Number})],d.prototype,\"offset\",void 0),e([t({type:y})],d.prototype,\"position\",void 0),e([t({type:y})],d.prototype,\"normal\",void 0),e([t({type:y})],d.prototype,\"uv0\",void 0),e([t({type:y})],d.prototype,\"color\",void 0),e([t({type:y})],d.prototype,\"uvRegion\",void 0),e([t({type:y})],d.prototype,\"featureId\",void 0),e([t({type:y})],d.prototype,\"faceRange\",void 0),e([t({type:c})],d.prototype,\"compressedAttributes\",void 0),d=e([r(\"esri.layer.support.I3SGeometryBuffer\")],d);let m=class extends p{};e([o({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([t()],m.prototype,\"geometryBuffers\",void 0),m=e([r(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,d as I3SGeometryBuffer,c as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,a as I3SMaterialDefinition,l as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as i}from\"../multiOriginJSONSupportUtils.js\";function r(r){r&&r.writtenProperties&&r.writtenProperties.forEach((r=>{const t=r.target;r.newOrigin&&r.oldOrigin!==r.newOrigin&&i(t)&&t.updateOrigin(r.propName,r.newOrigin)}))}export{r as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";import{generateUUID as e}from\"../../core/uuid.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{result as s}from\"../../core/asyncUtils.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(s,a,u){if(!a||!a.resources)return;const h=a.portalItem===s.portalItem?new Set(s.paths):new Set;s.paths.length=0,s.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((r=>{h.delete(r),s.paths.push(r)}));for(const r of a.resources.toUpdate)if(h.delete(r.resource.path),i.has(r.resource.path)||f.has(r.resource.path)){const{resource:o,content:t,finish:a,error:p}=r,h=c(o,e());s.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else s.paths.push(r.resource.path),m.push(p(r,u)),f.add(r.resource.path);for(const r of a.resources.toAdd)m.push(n(r,u)),s.paths.push(r.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(r,e){const o=await s(r.resource.portalItem.addResource(r.resource,r.content,e));if(!0!==o.ok)throw r.error&&r.error(o.error),o.error;r.finish&&r.finish(r.resource)}async function p(r,e){const o=await s(r.resource.update(r.content,e));if(!0!==o.ok)throw r.error(o.error),o.error;r.finish(r.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../core/Error.js\";import{urlToObject as l,join as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as d,reject as c,all as u}from\"../../core/promiseUtils.js\";import m from\"../../geometry/SpatialReference.js\";import y from\"../../geometry/Extent.js\";import h from\"../../request.js\";import f from\"../../portal/Portal.js\";import v from\"../../portal/PortalItem.js\";import{updateOrigins as g}from\"../../core/accessorSupport/originUtils.js\";import{titleFromUrlAndName as w,parse as S,cleanTitle as I,sanitizeUrlWithLayerId as x,writeUrlWithLayerId as b,isArcGISUrl as j}from\"../support/arcgisLayerUrl.js\";import _ from\"../../geometry/HeightModelInfo.js\";import{saveResources as R}from\"../../webdoc/support/saveUtils.js\";import{url as N}from\"../support/commonProperties.js\";const O=r.getLogger(\"esri.layers.mixins.SceneService\"),T=r=>{let T=class extends r{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this._debouncedSaveOperations=d((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new m(o):null}}readFullExtent(e,t){const r=t.store,o=this._readSpatialReference(t);return null==o||null==r||null==r.extent||!Array.isArray(r.extent)||r.extent.some((e=>e<U))?null:new y({xmin:r.extent[0],ymin:r.extent[1],xmax:r.extent[2],ymax:r.extent[3],spatialReference:o})}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\",i={major:Number.NaN,minor:Number.NaN,versionString:o},s=o.split(\".\");return s.length>=2&&(i.major=parseInt(s[0],10),i.minor=parseInt(s[1],10)),i}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,r){const o=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return w(this.url,r.name);let i=r.name;if(!i&&this.url){const e=S(this.url);t(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&o&&(i=o+\" - \"+i),I(i)}set url(e){const t=x(this,e,O);this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){b(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=l(e);return null!=this.layerId&&j(t.path)&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _verifyRootNodeAndUpdateExtent(e,t){if(e)try{return this._updateExtentFromRootPage(e,await this._fetchRootPage(e,t))}catch(e){}return this._updateExtentFromRootNode(await this._fetchRootNode(t))}async _fetchRootPage(e,t){if(!e)return c();const r=Math.floor(e.rootIndex/e.nodesPerPage),o=`${this.parsedUrl.path}/nodepages/${r}`;return(await h(o,{responseType:\"json\",signal:t})).data}_updateExtentFromRootPage(e,t){if(null==t||null==t.nodes)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");const r=t.nodes[e.rootIndex%e.nodesPerPage];if(null==r||null==r.obb||null==r.obb.center||null==r.obb.halfSize)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");if(r.obb.center[0]<U)return;const o=r.obb.halfSize,i=r.obb.center[2],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=i-s,this.fullExtent.zmax=i+s}_updateExtentFromRootNode(e){if(null==e||null==this.fullExtent||this.fullExtent.hasZ)return;if(!Array.isArray(e.mbs)||4!==e.mbs.length||e.mbs[0]<U)return;const t=e.mbs[2],r=e.mbs[3];this.fullExtent.zmin=t-r,this.fullExtent.zmax=t+r}async _fetchRootNode(e){if(!this.rootNode)return;const t=p(this.parsedUrl.path,this.rootNode);try{return(await h(t,{query:{f:\"json\"},responseType:\"json\",signal:e})).data}catch(e){throw new n(\"sceneservice:root-node-missing\",\"Root node missing.\",{error:e,url:t})}}async _fetchService(e){if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const t=await h(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e});if(t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0)return t.data.layers[0].id}async _fetchServiceLayer(e){const t=await h(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e});t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const r=t.data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const t of o)e.typeKeywords.push(t);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const r={...A,...t};let o=v.from(e);o||(O.error(\"_saveAs(): requires a portal item parameter\"),await c(new n(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const i=o.portal||f.getDefault();await this._ensureLoadBeforeSave(),o.type=P,o.portal=i;const s={origin:\"portal-item\",url:null,messages:[],portal:i,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a={layers:[this.write(null,s)]};return await u(s.resources.pendingOperations),await this._validateAgainstJSONSchema(a,s,r),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,r,1),await i._signIn(),await i.user.addItem({item:o,folder:r&&r.folder,data:a}),await R(this.resourceReferences,s,null),this.portalItem=o,g(s),s.portalItem=o,o}async _save(e){const t={...A,...e};this.portalItem||(O.error(\"_save(): requires the .portalItem property to be set\"),await c(new n(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==P&&(O.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+P),await c(new n(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${P}\"`))),await this._ensureLoadBeforeSave();const r={origin:\"portal-item\",url:this.portalItem.itemUrl&&l(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||f.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write(null,r)]};return await u(r.resources.pendingOperations),await this._validateAgainstJSONSchema(o,r,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await R(this.resourceReferences,r,null),g(r),this.portalItem}async _validateAgainstJSONSchema(e,t,r){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new n(e.name,e.message,e.details)));if(r&&r.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),r.validationOptions.enabled||E){const t=(await import(\"../support/schemaValidator.js\")).validate(e,r.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(O.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===r.validationOptions.failPolicy){const e=t.map((e=>new n(\"sceneservice:schema-validation\",e))).concat(o);throw new n(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new n(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([o({json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}})],T.prototype,\"id\",void 0),e([o({type:m})],T.prototype,\"spatialReference\",void 0),e([i(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readSpatialReference\",null),e([o({type:y})],T.prototype,\"fullExtent\",void 0),e([i(\"fullExtent\",[\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],T.prototype,\"readFullExtent\",null),e([o({readOnly:!0,type:_})],T.prototype,\"heightModelInfo\",void 0),e([o({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],T.prototype,\"minScale\",void 0),e([o({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],T.prototype,\"maxScale\",void 0),e([o({readOnly:!0})],T.prototype,\"version\",void 0),e([i(\"version\",[\"store.version\"])],T.prototype,\"readVersion\",null),e([o({type:String,json:{read:{source:\"copyrightText\"}}})],T.prototype,\"copyright\",void 0),e([o({type:String,json:{read:!1}})],T.prototype,\"sublayerTitleMode\",void 0),e([o({type:String})],T.prototype,\"title\",void 0),e([i(\"portal-item\",\"title\")],T.prototype,\"readTitlePortalItem\",null),e([i(\"service\",\"title\",[\"name\"])],T.prototype,\"readTitleService\",null),e([o({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],T.prototype,\"layerId\",void 0),e([o(N)],T.prototype,\"url\",null),e([a(\"url\")],T.prototype,\"writeUrl\",null),e([o({dependsOn:[\"layerId\"]})],T.prototype,\"parsedUrl\",null),e([o({readOnly:!0})],T.prototype,\"store\",void 0),e([o({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],T.prototype,\"rootNode\",void 0),T=e([s(\"esri.layers.mixins.SceneService\")],T),T},U=-1e38,E=!1,P=\"Scene Service\",A={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{P as SCENE_SERVICE_ITEM_TYPE,T as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e={\"web-scene/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},\"web-scene/basemap\":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-map/operational-layers\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-map/basemap\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},\"web-map/tables\":{ArcGISFeatureLayer:!0},\"portal-item/operational-layers\":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};export{e as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as p}from\"../../core/accessorSupport/write.js\";import{supportedTypes as a}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&p(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){!e||i&&\"tables\"===i.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,r){if(r&&r.origin){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`,t=a[e];let i=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(i=!1),!i)return r.messages&&r.messages.push(new o(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...r,layer:this}),i=!!r&&!!r.messages&&!!r.messages.filter((e=>e instanceof o&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&i?null:t}beforeSave(){}};return e([r({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([r({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([i(\"listMode\")],y.prototype,\"writeListMode\",null),e([r({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([i(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([r(n)],y.prototype,\"opacity\",void 0),e([r({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([i(\"title\")],y.prototype,\"writeTitle\",null),e([r({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{getOwnPropertyMetadata as o}from\"../metadata.js\";import{propertyJSONMeta as i}from\"./property.js\";import{isMultiOriginJSONMixin as n}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as s,isBlobProtocol as u,join as p,getPathExtension as a}from\"../../urlUtils.js\";import{generateUUID as c}from\"../../uuid.js\";import{nameToId as l}from\"../PropertyOrigin.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(e){const p=t(e)&&e.origins?e.origins:[void 0];return(c,g)=>{const j=function(e,i,p){if(t(e)&&\"resource\"===e.type)return function(e,i,p){const c=o(i,p);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return c.type===String?o:\"function\"==typeof c.type?new c.type({url:o}):void 0},write:{writer(o,i,m,d){if(!d||!d.resources)return\"string\"==typeof o?void(i[m]=y(o,d)):void(i[m]=o.write({},d));const g=function(t){if(r(t))return null;if(\"string\"==typeof t)return t;return t.url}(o),j=g?y(g,{...d,verifyItemRelativeUrls:d&&d.verifyItemRelativeUrls?{writtenUrls:d.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null}):null,I=c.type!==String&&(!n(this)||d&&d.origin&&this.originIdOf(p)>l(d.origin));d&&d.portalItem&&t(j)&&!s(j)?I?function(t,r,e,o,i,n,s,u){const p=s.portalItem.resourceFromPath(o),c=U(e,o,s),l=f(c),m=a(p.path);if(l!==m)return void v(t,r,e,o,i,n,s,u);w(t,r,p,c,s.resources.toUpdate),i[n]=o}(this,p,o,j,i,m,d,e):function(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}(j,i,m,d):d&&d.portalItem&&(r(j)||t(h(j))||u(j)||I)?v(this,p,o,j,i,m,d,e):i[m]=j}}}}(e,i,p);switch(t(e)&&e.type?e.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}(e,c,g);for(const t of p){const r=i(c,t,g);for(const t in j)r[t]=j[t]}}}function v(t,r,o,i,n,s,a,l){const m=c(),y=U(o,i,a),h=p(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=a.portalItem.resourceFromPath(d);u(i)&&a.resources.pendingOperations.push(async function(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}(i).then((t=>{g.path=`${h}.${f(t)}`,n[s]=g.itemRelativeUrl})).catch((()=>{}))),w(t,r,g,y,a.resources.toAdd),n[s]=g.itemRelativeUrl}function w(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{!function(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}(t,r,e)}})}function U(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import t from\"../../core/Warning.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as i}from\"../../core/accessorSupport/decorators/persistable.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import c from\"../../geometry/Polygon.js\";import\"../../geometry.js\";import{canProjectWithoutEngine as m,projectPolygon as n}from\"../../geometry/projection.js\";var l;let y=l=class extends a{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer&&s.layer.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!m(e.spatialReference,s.layer.spatialReference))return void(s&&s.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new c;n(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new l({geometry:r(this.geometry),type:this.type})}};e([o({type:c}),i()],y.prototype,\"geometry\",void 0),e([p([\"web-scene\",\"portal-item\"],\"geometry\")],y.prototype,\"writeGeometry\",null),e([o({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),i()],y.prototype,\"type\",void 0),y=l=e([s(\"esri.layers.support.SceneModification\")],y);var f=y;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as o}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import{urlToObject as s}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupportMixin as i}from\"../../core/JSONSupport.js\";import c from\"../../core/Collection.js\";import p from\"../../request.js\";import a from\"./SceneModification.js\";var m;let n=m=class extends(i(c.ofType(a))){constructor(r){super(r),this.url=null}toJSON(r){return this.toArray().map((o=>o.toJSON(r))).filter((r=>!!r.geometry))}clone(){return new m({url:this.url,items:this.items.map((r=>r.clone()))})}_readModifications(r,o){for(const t of r)this.add(a.fromJSON(t,o))}static fromJSON(r,o){const t=new m;return t._readModifications(r,o),t}static async fromUrl(r,t,e){const i={url:s(r),origin:\"service\"},c=await p(r,{responseType:\"json\",signal:o(e,\"signal\")}),n=t.toJSON(),u=[];for(const r of c.data)u.push(a.fromJSON({...r,geometry:{...r.geometry,spatialReference:n}},i));return new m({url:r,items:u})}};r([t({type:String})],n.prototype,\"url\",void 0),n=m=r([e(\"esri.layers.support.SceneModifications\")],n);var u=n;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{get as t,isSome as o,isNone as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{reader as s}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../core/Error.js\";import{f as p}from\"../chunks/persistableUrlUtils.js\";import{persistable as d}from\"../core/accessorSupport/decorators/persistable.js\";import y from\"../core/Handles.js\";import c from\"./Layer.js\";import{MultiOriginJSONMixin as m}from\"../core/MultiOriginJSONSupport.js\";import{on as l}from\"../core/watchUtils.js\";import{elevationInfo as h}from\"./support/commonProperties.js\";import{OperationalLayer as f}from\"./mixins/OperationalLayer.js\";import{ArcGISService as u}from\"./mixins/ArcGISService.js\";import{PortalLayer as v}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as g}from\"./mixins/ScaleRangeLayer.js\";import{I3SNodePageDefinition as S,I3SMaterialDefinition as j,I3STextureSetDefinition as w,I3SGeometryDefinition as T}from\"./support/I3SLayerDefinitions.js\";import{SceneService as L}from\"./mixins/SceneService.js\";import _ from\"./support/SceneModifications.js\";let x=class extends(L(u(f(v(g(m(c))))))){constructor(...e){super(...e),this.handles=new y,this.geometryType=\"mesh\",this.operationalLayerType=\"IntegratedMeshLayer\",this.type=\"integrated-mesh\",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile=\"mesh-pyramids\",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this.handles.destroy()}initialize(){this.handles.add(l(this,\"modifications\",\"after-changes\",(()=>this.modifications=this.modifications),null,null,!0))}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}readModifications(e,t,o){this._modificationsSource={url:p(e,o),context:o}}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const r=t(e,\"signal\");try{await this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e)}catch(e){}if(await this._fetchService(r),o(this._modificationsSource)){const t=await _.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin(\"modifications\",t,this._modificationsSource.context.origin),this._modificationsSource=null}await this._verifyRootNodeAndUpdateExtent(this.nodePages,r)}beforeSave(){if(!r(this._modificationsSource))return this.load().then((()=>{}),(()=>{}))}async saveAs(e,t){return this._debouncedSaveOperations(1,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"integrated-mesh\"};return this._debouncedSaveOperations(0,e)}validateLayer(e){if(e.layerType&&\"IntegratedMesh\"!==e.layerType)throw new n(\"integrated-mesh-layer:layer-type-not-supported\",\"IntegratedMeshLayer does not support this layer type\",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new n(\"layer:service-version-not-supported\",\"Service version is not supported.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"});if(this.version.major>1)throw new n(\"layer:service-version-too-new\",\"Service version is too new.\",{serviceVersion:this.version.versionString,supportedVersions:\"1.x\"})}_getTypeKeywords(){return[\"IntegratedMeshLayer\"]}};e([i({type:String,readOnly:!0})],x.prototype,\"geometryType\",void 0),e([i({type:[\"show\",\"hide\"]})],x.prototype,\"listMode\",void 0),e([i({type:[\"IntegratedMeshLayer\"]})],x.prototype,\"operationalLayerType\",void 0),e([i({json:{read:!1},readOnly:!0})],x.prototype,\"type\",void 0),e([i({type:S,readOnly:!0})],x.prototype,\"nodePages\",void 0),e([i({type:[j],readOnly:!0})],x.prototype,\"materialDefinitions\",void 0),e([i({type:[w],readOnly:!0})],x.prototype,\"textureSetDefinitions\",void 0),e([i({type:[T],readOnly:!0})],x.prototype,\"geometryDefinitions\",void 0),e([i({readOnly:!0})],x.prototype,\"serviceUpdateTimeStamp\",void 0),e([i({type:_}),d({origins:[\"web-scene\",\"portal-item\"],type:\"resource\",prefix:\"modifications\"})],x.prototype,\"modifications\",void 0),e([s([\"web-scene\",\"portal-item\"],\"modifications\")],x.prototype,\"readModifications\",null),e([i(h)],x.prototype,\"elevationInfo\",void 0),e([i({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],x.prototype,\"path\",void 0),x=e([a(\"esri.layers.IntegratedMeshLayer\")],x);var O=x;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{assumeNonNull as s}from\"../maybe.js\";import{OriginIdNum as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e),this._values=new Map}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,t(s),0)}));for(let r=2;r<e;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,t(e),r)}))}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||s(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return!1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{assumeNonNull as t}from\"./maybe.js\";import{getProperties as e}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{idToName as o,nameToId as i}from\"./accessorSupport/PropertyOrigin.js\";import n from\"./Accessor.js\";import{read as c}from\"./accessorSupport/read.js\";import p from\"./accessorSupport/MultiOriginStore.js\";const a=n=>{let a=class extends n{constructor(...r){super(...r);const s=t(e(this)),o=s.metadatas,i=s.store,n=new p;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0)}))}read(r,t){c(this,r,t)}getAtOrigin(r,t){const e=u(this),s=i(t);if(\"string\"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),o=i(t),n=e(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r)}))}};return a=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],a),a};function u(r){return e(r).store}let f=class extends(a(n)){};f=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{getProperties as t}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{nameToId as e,OriginIdNum as o}from\"./accessorSupport/PropertyOrigin.js\";import i from\"./Accessor.js\";import{write as c}from\"./accessorSupport/write.js\";import{ReadOnlyMultiOriginJSONMixin as n}from\"./ReadOnlyMultiOriginJSONSupport.js\";const p=i=>{let n=class extends i{constructor(...r){super(...r)}clear(r,t=\"user\"){return u(this).delete(r,e(t))}write(r={},t){return c(this,r=r||{},t),r}setAtOrigin(r,s,o){t(this).setAtOrigin(r,s,e(o))}removeOrigin(r){const t=u(this),s=e(r),o=t.keys(s);for(const r of o)t.originOf(r)===s&&t.set(r,t.get(r,s),6)}updateOrigin(r,t){const s=u(this),i=e(t),c=this.get(r);for(let t=i+1;t<o;++t)s.delete(r,t);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return n=r([s(\"esri.core.WriteableMultiOriginJSONSupport\")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function u(r){return t(r).store}const l=t=>{let e=class extends(p(n(t))){constructor(...r){super(...r)}};return e=r([s(\"esri.core.MultiOriginJSONSupport\")],e),e};let O=class extends(l(i)){};O=r([s(\"esri.core.MultiOriginJSONSupport\")],O);export{l as MultiOriginJSONMixin,O as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{join as o,getPathExtension as s}from\"../../core/urlUtils.js\";import n from\"../../request.js\";async function u(t,r={},a){await t.load(a);const s=o(t.itemUrl,\"resources\"),{start:n=1,num:u=10,sortOrder:c=\"asc\",sortField:i=\"created\"}=r,l={query:{start:n,num:u,sortOrder:c,sortField:i},signal:e(a,\"signal\")},p=await t.portal._request(s,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:e,size:r,resource:a})=>({created:new Date(e),size:r,resource:t.resourceFromPath(a)})))}}async function c(r,s,n,u){if(!r.hasPath())throw new a(`portal-item-resource-${s}:invalid-path`,\"Resource does not have a valid path\");await r.portalItem.load(u);const c=o(r.portalItem.userItemUrl,\"add\"===s?\"addResources\":\"updateResources\"),[i,l]=p(r.path),m=await d(n),h=new FormData;return i&&\".\"!==i&&h.append(\"resourcesPrefix\",i),h.append(\"fileName\",l),h.append(\"file\",m,l),h.append(\"f\",\"json\"),t(u)&&u.access&&h.append(\"access\",u.access),await r.portalItem.portal._request(c,{method:\"post\",body:h,signal:e(u,\"signal\")}),r}async function i(t,r,s){if(!r.hasPath())throw new a(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await t.load(s);const n=o(t.userItemUrl,\"removeResources\");await t.portal._request(n,{method:\"post\",query:{resource:r.path},signal:e(s,\"signal\")}),r.portalItem=null}async function l(t,r){await t.load(r);const a=o(t.userItemUrl,\"removeResources\");return t.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:e(r,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){const[t,a]=function(e){const t=s(e);if(r(t))return[e,\"\"];return[e.slice(0,e.length-t.length-1),`.${t}`]}(e),[o,n]=p(t);return[o,n,a]}async function d(e){if(e instanceof Blob)return e;return(await n(e.url,{responseType:\"blob\"})).data}function h(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}function f(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}export{c as addOrUpdateResource,d as contentToBlob,u as fetchResources,h as getSiblingOfSameType,f as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,m as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}const e=function(){const n=Object.keys(t);return n.sort(),n}();export{r as getMetersPerUnit,e as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){return this._isOverridden(\"mode\")?this._get(\"mode\"):r(this.offset)||this.featureExpressionInfo?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,dependsOn:[\"offset\",\"featureExpressionInfo\"],nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n"],"sourceRoot":""}